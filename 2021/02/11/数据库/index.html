
<!DOCTYPE html><html lang="zh-CN" data-theme="light">

<head>
  <meta charset="utf-8">
  <meta name="hexo-theme" content="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.29.1" theme-name="Stellar" theme-version="1.29.1">
  
  <meta name="generator" content="Hexo 7.3.0">
  <meta http-equiv='x-dns-prefetch-control' content='on' />
  
  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True" >
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000">
  <meta name="theme-color" content="#f9fafb">
  
  <title>SQL æ•°æ®åº“å­¦ä¹ è®°å½• - Rabbit's Blog</title>

  
    <meta name="description" content="ä½¿ç”¨å ä½ç¬¦å¯ä»¥é˜²æ­¢ sql çš„æ³¨å…¥ï¼Œ#{} ä¼šå°†ä¼ å…¥çš„æ•°æ®å½“æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¼šå¯¹è‡ªåŠ¨ä¼ å…¥çš„æ•°æ®åŠ ä¸€ä¸ªåŒå¼•å·ï¼Œ${} ä¼šå°†ä¼ å…¥çš„æ•°æ®ç›´æ¥æ˜¾ç¤ºç”Ÿæˆåœ¨ sql ä¸­ã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="SQL æ•°æ®åº“å­¦ä¹ è®°å½•">
<meta property="og:url" content="https://zero-yi7.github.io/2021/02/11/%E6%95%B0%E6%8D%AE%E5%BA%93/index.html">
<meta property="og:site_name" content="Rabbit&#39;s Blog">
<meta property="og:description" content="ä½¿ç”¨å ä½ç¬¦å¯ä»¥é˜²æ­¢ sql çš„æ³¨å…¥ï¼Œ#{} ä¼šå°†ä¼ å…¥çš„æ•°æ®å½“æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¼šå¯¹è‡ªåŠ¨ä¼ å…¥çš„æ•°æ®åŠ ä¸€ä¸ªåŒå¼•å·ï¼Œ${} ä¼šå°†ä¼ å…¥çš„æ•°æ®ç›´æ¥æ˜¾ç¤ºç”Ÿæˆåœ¨ sql ä¸­ã€‚">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://favorably-7690.oss-cn-beijing.aliyuncs.com/SQL%20%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/202410081514458.webp">
<meta property="og:image" content="https://favorably-7690.oss-cn-beijing.aliyuncs.com/SQL%20%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/202410081514048.png">
<meta property="article:published_time" content="2021-02-11T12:46:25.000Z">
<meta property="article:modified_time" content="2021-02-11T12:46:25.000Z">
<meta property="article:author" content="Rabbit">
<meta property="article:tag" content="SQL">
<meta property="article:tag" content="æ•°æ®åº“">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://favorably-7690.oss-cn-beijing.aliyuncs.com/SQL%20%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/202410081514458.webp">
  
  
  
  

  <!-- feed -->
  

  <link rel="stylesheet" href="/css/main.css?v=1.29.1">

  
    <link rel="shortcut icon" href="https://favorably-7690.oss-cn-beijing.aliyuncs.com/icon/%E5%85%94%E5%AD%90%20(2).png">
  

  
    
<link rel="stylesheet" href="https://gcore.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/styles/atom-one-dark.min.css">

  

  
</head><body>

<div class="l_body s:aa content tech" id="start" layout="post" ><aside class="l_left"><div class="leftbar-container">


<header class="header"><div class="logo-wrap"><a class="avatar" href="/about/"><div class="bg" style="opacity:0;background-image:url(https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/avatar/round/rainbow64@3x.webp);"></div><img no-lazy class="avatar" src="https://favorably-7690.oss-cn-beijing.aliyuncs.com/icon/%E5%85%94%E5%AD%90.png" onerror="javascript:this.classList.add('error');this.src='https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/image/2659360.svg';"></a><a class="title" href="/"><div class="main" ff="title">Rabbit's Blog</div><div class="sub normal cap">æ´åºœæ— ç©·å²æœˆ</div><div class="sub hover cap" style="opacity:0"> å£¶å¤©åˆ«æœ‰ä¹¾å¤</div></a></div></header>

<div class="nav-area">
<div class="search-wrapper" id="search-wrapper"><form class="search-form"><a class="search-button" onclick="document.getElementById(&quot;search-input&quot;).focus();"><svg t="1705074644177" viewBox="0 0 1025 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1560" width="200" height="200"><path d="M1008.839137 935.96571L792.364903 719.491476a56.783488 56.783488 0 0 0-80.152866 0 358.53545 358.53545 0 1 1 100.857314-335.166073 362.840335 362.840335 0 0 1-3.689902 170.145468 51.248635 51.248635 0 1 0 99.217358 26.444296 462.057693 462.057693 0 1 0-158.255785 242.303546l185.930047 185.725053a51.248635 51.248635 0 0 0 72.568068 0 51.248635 51.248635 0 0 0 0-72.978056z" p-id="1561"></path><path d="M616.479587 615.969233a50.428657 50.428657 0 0 0-61.498362-5.534852 174.655348 174.655348 0 0 1-177.525271 3.484907 49.403684 49.403684 0 0 0-58.833433 6.76482l-3.074918 2.869923a49.403684 49.403684 0 0 0 8.609771 78.10292 277.767601 277.767601 0 0 0 286.992355-5.739847 49.403684 49.403684 0 0 0 8.404776-76.667958z" p-id="1562"></path></svg></a><input type="text" class="search-input" id="search-input" placeholder="ç«™å†…æœç´¢"></form><div id="search-result"></div><div class="search-no-result">æ²¡æœ‰æ‰¾åˆ°å†…å®¹ï¼</div></div>


<nav class="menu dis-select"><a class="nav-item active" title="ä¸»é¡µ" href="/"><span>ä¸»é¡µ</span></a><a class="nav-item" title="é¶åœºå®æˆ˜" href="/wiki/"><span>é¶åœºå®æˆ˜</span></a></nav>
</div>
<div class="widgets">

</div>
<footer class="footer dis-select"><div class="social-wrap"><a class="social" href="https://github.com/Zero-Yi7" target="_blank" rel="external nofollow noopener noreferrer"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/social/08a41b181ce68.svg"/></a></div></footer>
</div></aside><div class="l_main" id="main">





<div class="article banner top">
  <div class="content">
    <div class="top bread-nav footnote"><div class="left"><div class="flex-row" id="breadcrumb"><a class="cap breadcrumb" href="/">ä¸»é¡µ</a>
<span class="sep"></span><a class="cap breadcrumb" href="/">æ–‡ç« </a></div>
<div class="flex-row" id="post-meta"><span class="text created">å‘å¸ƒäºï¼š<time datetime="2021-02-11T12:46:25.000Z">2021-02-11</time></span><span class="sep updated"></span><span class="text updated">æ›´æ–°äºï¼š<time datetime="2021-02-11T12:46:25.000Z">2021-02-11</time></span></div></div></div>
    
    <div class="bottom only-title">
      
      <div class="text-area">
        <h1 class="text title"><span>SQL æ•°æ®åº“å­¦ä¹ è®°å½•</span></h1>
        
      </div>
    </div>
    
  </div>
  </div><article class="md-text content"><h2 id="æ•°æ®åº“æŸ¥ç¼ºè¡¥æ¼">æ•°æ®åº“æŸ¥ç¼ºè¡¥æ¼</h2>
<p><code>#</code><strong>æ˜¯ä¸€ä¸ªå ä½ç¬¦</strong></p>
<p>ä½¿ç”¨å ä½ç¬¦å¯ä»¥é˜²æ­¢<code>sql</code>çš„æ³¨å…¥ï¼Œ<code>#&#123;&#125;</code>ä¼šå°†ä¼ å…¥çš„æ•°æ®å½“æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¼šå¯¹è‡ªåŠ¨ä¼ å…¥çš„æ•°æ®åŠ ä¸€ä¸ªåŒå¼•å·ï¼Œ<code>$&#123;&#125;</code>ä¼šå°†ä¼ å…¥çš„æ•°æ®ç›´æ¥æ˜¾ç¤ºç”Ÿæˆåœ¨<code>sql</code>ä¸­</p>
<p><code>$</code><strong>æ˜¯æ‹¼æ¥ç¬¦ï¼ˆå‚æ•°ï¼‰</strong></p>
<p><code>$&#123;&#125;</code>:ä¼ å…¥çš„å†…å®¹ä¼šç›´æ¥æ‹¼æ¥ï¼Œä¸ä¼šåŠ ä¸Šå¼•å·ï¼Œå¯èƒ½å­˜åœ¨sqlæ³¨å…¥çš„å®‰å…¨éšæ‚£</p>
<p><code>%</code><strong>æ˜¯æœç´¢çš„é€šé…ç¬¦</strong>ï¼ŒWindow ä¸­æ˜¯<code>*</code></p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.jb51.net/article/237629.htm">mysqlä¸­#{}å’Œ${}çš„åŒºåˆ«è¯¦è§£_Mysql_è„šæœ¬ä¹‹å®¶ (jb51.net)</a></p>
</blockquote>
<h2 id="åˆè¯†æ•°æ®åº“">åˆè¯†æ•°æ®åº“</h2>
<p>ä»‹äºå‰ç«¯å’Œåç«¯ä¹‹é—´çš„æ•°æ®åº“ï¼Œæ˜¯***<u>å…¶</u>***æ ¸å¿ƒæ‰€åœ¨ã€‚</p>
<h3 id="ä¸ºä»€ä¹ˆå­¦ä¹ æ•°æ®åº“ï¼š"><strong>ä¸ºä»€ä¹ˆå­¦ä¹ æ•°æ®åº“ï¼š</strong></h3>
<p>å²—ä½éœ€æ±‚ï¼›æŠ€æœ¯å¤§æ¡†æ¶ä¸­çš„ä¸å¯æˆ–ç¼ºçš„â€æ•°æ®å­˜å‚¨â€œéœ€è¦ï¼›ç½‘ç»œå®‰å…¨</p>
<h3 id="ä»€ä¹ˆæ˜¯æ•°æ®åº“ï¼š"><strong>ä»€ä¹ˆæ˜¯æ•°æ®åº“ï¼š</strong></h3>
<p>æ•°æ®åº“ï¼ˆDBï¼ŒDataBaseï¼‰</p>
<p>æ¦‚å¿µï¼šæ•°æ®ä»“åº“ï¼Œè½¯ä»¶ï¼Œå®‰è£…åœ¨æ“ä½œç³»ç»Ÿï¼ˆwindowã€linuxã€macâ€¦ï¼‰ä¹‹ä¸Šï¼SQL,å¯ä»¥å­˜å‚¨å¤§é‡çš„æ•°æ®ã€‚500ä¸‡ï¼</p>
<p>ä½œç”¨ï¼šå­˜å‚¨æ•°æ®ï¼Œç®¡ç†æ•°æ®</p>
<h3 id="æ•°æ®åº“åˆ†ç±»ï¼š"><strong>æ•°æ®åº“åˆ†ç±»ï¼š</strong></h3>
<p><strong>å…³ç³»å‹æ•°æ®åº“ï¼š</strong>ï¼ˆSQLï¼‰</p>
<ul>
<li>MySQLã€Oracleã€SqIServerã€DB2ã€SQLlite</li>
<li>é€šè¿‡è¡¨å’Œè¡¨ä¹‹é—´ï¼Œè¡Œå’Œåˆ—ä¹‹é—´çš„å…³ç³»è¿›è¡Œæ•°æ®çš„å­˜å‚¨ï¼Œ</li>
</ul>
<p><strong>éå…³ç³»å‹æ•°æ®åº“ï¼š</strong>ï¼ˆNoSQLï¼‰Not Only</p>
<ul>
<li>Redisï¼ŒMongDB</li>
<li>éå…³ç³»å‹æ•°æ®åº“ï¼Œå¯¹è±¡å­˜å‚¨ï¼Œé€šè¿‡å¯¹è±¡çš„è‡ªèº«çš„å±æ€§æ¥å†³å®šã€‚</li>
</ul>
<p><strong>DBMSï¼ˆæ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼‰</strong></p>
<ul>
<li>æ•°æ®åº“çš„ç®¡ç†è½¯ä»¶ï¼Œç§‘å­¦æœ‰æ•ˆçš„ç®¡ç†æˆ‘ä»¬çš„æ•°æ®ã€‚ç»´æŠ¤å’Œè·å–æ•°æ®ï¼Œ</li>
<li>MySQLï¼Œæ•°æ®åº“ç®¡ç†ç³»ç»Ÿ</li>
</ul>
<h3 id="MySQL-ç®€ä»‹">MySQL ç®€ä»‹</h3>
<p>MySQL æ˜¯ä¸€ä¸ªå…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ</p>
<p>ğŸ”´æœ€æµè¡Œçš„å¼€æºæ•°æ®åº“æ˜¯<code>MySQL</code></p>
<p>å†å²æ²¿é©ï¼šç‘å…¸ MySql AB å…¬å¸</p>
<p>å¦‚ä»Šï¼šå±äº Oracle æ——ä¸‹äº§å“</p>
<blockquote>
<p>å®‰è£…å»ºè®®ï¼š</p>
<p>å°½é‡ä¸ä½¿ç”¨ exe ï¼Œæ³¨å†Œè¡¨ï¼Œå¸è½½éº»çƒ¦</p>
<p>å»ºè®®ä½¿ç”¨ä½¿ç”¨å‹ç¼©åŒ…</p>
</blockquote>
<h3 id="å®‰è£…-MySQL">å®‰è£… MySQL</h3>
<p><a target="_blank" rel="noopener" href="https://dev.mysql.com/downloads/mysql/">MySQL :: Download MySQL Community Server</a></p>
<blockquote>
<p>è°·æ­Œæœç´¢ï¼š<code>mysql community</code></p>
</blockquote>
<ol>
<li>
<p>è§£å‹åæ”¾åˆ°ç”µè„‘ç¯å¢ƒç›®å½•ä¸‹</p>
</li>
<li>
<p>é…ç½®ç¯å¢ƒå˜é‡ï¼ŒæŒ‰ Win é”®æœç´¢ï¼Œ<code>ç¯å¢ƒå˜é‡</code>å°†<code>bin</code>ç›®å½•æ”¾å…¥</p>
</li>
<li>
<p>åœ¨<code>mysql</code>çš„ä¸€çº§ç›®å½•ä¸‹ï¼Œæ–°å»º<code>mysql </code>é…ç½®æ–‡ä»¶ <code>my.ini</code></p>
<ol>
<li>
<pre><code class="language-mysql">[mysqld]
# è®¾ç½®3306ç«¯å£å·
port=3306

# è®¾ç½®MySQLçš„å®‰è£…ç›®å½•
basedir=D:\\software\\an qr\\mysql-8.0.31-winx64

# è®¾ç½®MySQLæ•°æ®åº“çš„æ•°æ®å­˜æ”¾ç›®å½•
datadir=D:\\software\\an qr\\mysql-8.0.31-winx64\\data

# å¯åŠ¨mysqlåå°†skip-grant-tableså‰é¢çš„#åˆ æ‰
skip-grant-tables
</code></pre>
</li>
</ol>
</li>
<li>
<p>åœ¨<code>bin</code>ç›®å½•ä¸‹ï¼Œä»¥ç®¡ç†å‘˜èº«ä»½å¯åŠ¨<code>CMD</code></p>
<ol>
<li>
<pre><code class="language-mysql"># å®‰è£… mysqlï¼Œæ˜¾ç¤º Service successfully installed. å³ä¸ºæˆåŠŸ
mysqld -install

# å‡ºç° data æ–‡ä»¶å¤¹ï¼Œåˆå§‹åŒ–æ•°æ®æ–‡ä»¶
mysqld --initialize-insecure --user=mysql

# å¯åŠ¨ mysql
net start mysql
net stop mysql

# è¿›å…¥ mysql
mysql -u root -p
mysql -u root -proot
mysql -u root -pç´§ç´§è·Ÿç€å¯†ç 

# è¿›å…¥è®°å¾—ä¿®æ”¹å¯†ç ï¼Œå¯ä»¥æ³¨é‡Šæ‰è·³è¿‡å¯†ç äº†ï¼Œç„¶åé‡å¯
net stop mysql
net start mysql
</code></pre>
</li>
</ol>
</li>
</ol>
<h3 id="è¿æ¥æ•°æ®åº“">è¿æ¥æ•°æ®åº“</h3>
<pre><code class="language-sql">mysql -uroot -proot  -- å‘½ä»¤è¡Œè¿æ¥

-- sql çš„æ³¨é‡Šæ˜¯
flush privileges;  -- åˆ·æ–°æƒé™

---------------------------
æ‰€æœ‰çš„è¯­å¥ä½¿ç”¨`;`ç»“å°¾
show databases;  -- æŸ¥çœ‹æ‰€æœ‰çš„æ•°æ®åº“

use mysql;  -- åˆ‡æ¢æ•°æ®åº“
Database changed

show tables;  -- æŸ¥çœ‹æ•°æ®è¡¨ä¸­æ‰€æœ‰çš„è¡¨

describe student;  -- æ˜¾ç¤ºæ•°æ®åº“ä¸­æ‰€æœ‰è¡¨çš„ä¿¡æ¯

create database westos;  -- åˆ›å»ºä¸€ä¸ªæ•°æ®åº“

exit;  -- é€€å‡ºè¿æ¥

-- å•è¡Œæ³¨é‡Šï¼ˆSQL çš„æœ¬æ¥çš„æ³¨é‡Šï¼‰

/*		ï¼ˆsql çš„å•è¡Œæ³¨é‡Šï¼‰
hello
hi
*/
</code></pre>
<h2 id="æ“ä½œæ•°æ®åº“">æ“ä½œæ•°æ®åº“</h2>
<h3 id="ç®€å•æ“ä½œæ•°æ®åº“">ç®€å•æ“ä½œæ•°æ®åº“</h3>
<p>æ“ä½œæ•°æ®åº“ &gt; æ“ä½œæ•°æ®åº“ä¸­çš„è¡¨ &gt; æ“ä½œæ•°æ®åº“ä¸­è¡¨çš„æ•°æ®<br>
<code>mysql</code>å…³é”®å­—ä¸åˆ†åŒºå¤§å°å†™</p>
<pre><code class="language-mysql">-- åˆ›å»ºæ•°æ®åº“
CREATE DATABASE IF NOT EXISTS westos

-- åˆ é™¤æ•°æ®åº“
DROP DATABASE IF EXISTS westos

-- ä½¿ç”¨æ•°æ®åº“
-- tabé”®çš„ä¸Šè€Œï¼Œå¦‚æœä½ çš„è¡¨åæˆ–è€…å­—æ®µåæ˜¯ä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ï¼Œå°±éœ€è¦å¸¦``
USE `school`

-- æŸ¥çœ‹æ‰€æœ‰çš„æ•°æ®åº“
SHOW DATABASES;
</code></pre>
<p>å¯¹æ¯”<code>SQLyog</code>çš„å¯è§†åŒ–å†å²è®°å½•æŸ¥çœ‹<br>
å›ºå®šçš„è¯­æ³•æˆ–å…³é”®å­—å¿…é¡»è¦è®°ä½ï¼</p>
<h3 id="æ•°æ®åº“çš„åˆ—ç±»å‹">æ•°æ®åº“çš„åˆ—ç±»å‹</h3>
<p><strong>æ•°å€¼</strong></p>
<ul>
<li>tinyingï¼Œååˆ†å¤§å°æ•°æ®ï¼Œ1 ä¸ªå­—èŠ‚</li>
<li>smallintï¼Œè¾ƒå°çš„æ•°æ®ï¼Œ2 ä¸ªå­—èŠ‚</li>
<li>mediumintï¼Œä¸­ç­‰å¤§å°çš„æ•°æ®ï¼Œ3 ä¸ªå­—èŠ‚</li>
<li><em><u><strong>intï¼Œæ ‡å‡†çš„æ•´æ•°ï¼Œ4 ä¸ªå­—èŠ‚</strong></u></em></li>
<li>bigintï¼Œè¾ƒå¤§çš„æ•°æ®ï¼Œ8 ä¸ªå­—èŠ‚</li>
<li>floatï¼Œæµ®ç‚¹æ•°ï¼Œ4 ä¸ªå­—èŠ‚</li>
<li>doubleï¼Œæµ®ç‚¹æ•°ï¼Œ4 ä¸ªå­—èŠ‚</li>
<li>decimalï¼Œå­—ç¬¦ä¸²å½¢å¼çš„æµ®ç‚¹æ•°ï¼Œé‡‘èè®¡ç®—çš„æ—¶å€™ï¼Œä¸€èˆ¬æ˜¯ä½¿ç”¨ decimal</li>
</ul>
<p><strong>å­—ç¬¦ä¸²</strong></p>
<ul>
<li>charï¼Œå­—ç¬¦ä¸²å›ºå®šå¤§å°çš„ï¼Œ0~244</li>
<li><strong>varcharï¼Œå¯å˜å­—ç¬¦ä¸²ï¼Œ0~65535ï¼ˆå¸¸ç”¨çš„å˜é‡ Stringï¼‰</strong></li>
<li>tinytextï¼Œå¾®å‹æ–‡æœ¬ï¼Œ2^8-1</li>
<li><strong>textï¼Œæ–‡æœ¬ä¸²ï¼Œ2^16-1ï¼Œä¿å­˜å¤§æ–‡æœ¬</strong></li>
</ul>
<p><strong>æ—¶é—´æ—¥æœŸ</strong></p>
<p>java.util.Date</p>
<ul>
<li>dateï¼ŒYYYY-MM-DDï¼Œæ—¥æœŸæ ¼å¼</li>
<li>timeï¼ŒHHï¼šmmï¼šssï¼Œæ—¶é—´æ ¼å¼</li>
<li><strong>datetimeï¼ŒYYYY-MM-DD HHï¼šmmï¼šssï¼Œæœ€å¸¸ç”¨çš„æ—¶é—´æ ¼å¼</strong>
<ul>
<li>å°å†™çš„ h æ˜¯ 12 å°æ—¶åˆ¶ï¼Œå¤§å†™çš„ H æ˜¯ 24 å°æ—¶åˆ¶</li>
</ul>
</li>
<li><strong>timestampï¼Œæ—¶é—´æˆ³ï¼Œ1970.1.1 åˆ°ç°åœ¨çš„æ¯«ç§’æ•°ï¼ä¹Ÿè¾ƒä¸ºå¸¸ç”¨ï¼</strong></li>
<li>yearï¼Œå¹´ä»½è¡¨ç¤º</li>
</ul>
<p><strong>null</strong></p>
<ul>
<li>æ²¡æœ‰å€¼ï¼ŒæœªçŸ¥</li>
<li>æ³¨æ„ï¼šä¸è¦ä½¿ç”¨ NULL è¿›è¡Œè®¡ç®—ï¼Œç»“æœä¸º NULL</li>
</ul>
<h3 id="å­—æ®µå±æ€§">å­—æ®µå±æ€§</h3>
<p><strong>UNsigned</strong>ï¼š</p>
<ul>
<li>æ— ç¬¦å·æ•´æ•°</li>
<li>å£°æ˜çš„è¯¥åˆ—ä¸èƒ½å£°æ˜æœªè´Ÿæ•°</li>
</ul>
<p><strong>zerofillï¼š</strong></p>
<ul>
<li>0 å¡«å……çš„</li>
<li>ä¸è¶³çš„ä½æ•°ï¼Œä½¿ç”¨ 0 æ¥å¡«å……ï¼Œintï¼ˆ3ï¼‰ï¼Œ5 â€” 005</li>
</ul>
<p><strong>è‡ªå¢</strong></p>
<ul>
<li>é€šå¸¸ç†è§£ä¸ºè‡ªå¢ï¼Œè‡ªåŠ¨åœ¨ä¸Šä¸€æ¡è®°å½•çš„åŸºç¡€ä¸Š<code>+1</code>ï¼ˆé»˜è®¤ï¼‰</li>
<li>é€šå¸¸ç”¨æ¥è®¾è®¡å”¯ä¸€çš„ä¸»è¸º~<code>index</code>ï¼Œå¿…é¡»æ˜¯æ•´æ•°ç±»å‹</li>
<li>å¯ä»¥è‡ªå®šä¹‰è®¾ä¸»é”®è‡ªå¢çš„èµ·å§‹å€¼å’Œæ­¥é•¿</li>
</ul>
<p><strong>éç©º Null not null</strong></p>
<ul>
<li>å‡è®¾è®¾ç½®ä¸º not nullï¼Œå¦‚æœä¸ç»™ä»–èµ‹å€¼ï¼Œå°±ä¼šæŠ¥é”™</li>
<li>NUII å¦‚æœä¸å¡«å†™å€¼ï¼Œé»˜è®¤å°±æ˜¯nuæ—§</li>
</ul>
<p>æ‹“å±•ï¼šå¬å¬å°±å¥½</p>
<pre><code class="language-sql">/ *
æ¯ä¸€ä¸ªè¡¨ï¼Œéƒ½å¿…é¡»å­˜åœ¨ä»¥ä¸‹äº”ä¸ªå­—æ®µ

id ä¸»é”®
`version` ä¹è§‚é”
is_delete ä¼ªåˆ é™¤
gmt_create åˆ›å»ºæ—¶é—´
gmt_update ä¿®æ”¹æ—¶é—´
*/
</code></pre>
<h3 id="åˆ›å»ºæ•°æ®åº“è¡¨">åˆ›å»ºæ•°æ®åº“è¡¨</h3>
<pre><code class="language-sql">show databases;
-- ç›®æ ‡ï¼šåˆ›å»ºä¸€ä¸ª school æ•°æ®åº“
-- åˆ›å»ºå­¦ç”Ÿè¡¨ï¼ˆåˆ—ï¼Œå­—æ®µï¼‰ä½¿ç”¨ SQL åˆ›å»º
-- å­¦å· intï¼Œç™»å½•å¯†ç  varcharï¼ˆ20ï¼‰.å‡ºç”Ÿæ—¥æœŸï¼ˆdatatimeï¼‰,å®¶åº­ä½å€ï¼Œemail

-- æ³¨æ„ç‚¹ï¼Œä½¿ç”¨è‹±æ–‡æ‹¬å·ï¼Œè¡¨çš„åç§°å’Œå­—æ®µä½¿ç”¨``ï¼Œé¿å…è¯†åˆ«ä¸ºå…³é”®å­—
-- AUTO_INCREMENT è‡ªå¢
-- å­—ç¬¦ä¸²ä½¿ç”¨å•å¼•å·æ‹¬èµ·æ¥ï¼
-- æ‰€æœ‰è¯­å¥åé¢åŠ è‹±æ–‡çš„é€—å·ï¼Œæœ€åä¸€ä¸ªä¸ç”¨åŠ 
-- PARMARY KEY ä¸»é”®ï¼Œä¸€èˆ¬ä¸€ä¸ªè¡¨åªæœ‰ä¸€ä¸ªå”¯ä¸€çš„ä¸»é”®

CREATE DATABASE school;
USE school;
CREATE TABLE IF NOT EXISTS `student`(
  `id` INT(4) NOT NULL AUTO_INCREMENT COMMENT 'å­¦å·',
  `name` VARCHAR(30) NOT NULL DEFAULT 'åŒ¿å' COMMENT 'å§“å',
  `pwd` VARCHAR(20) NOT NULL DEFAULT '123456' COMMENT 'å¯†ç ',
  `sex` VARCHAR(2) NOT NULL DEFAULT 'å¥³' COMMENT 'æ€§åˆ«',
  `birthday` DATETIME DEFAULT NULL COMMENT 'å‡ºç”Ÿæ—¥æœŸ',
  `address` VARCHAR(100) DEFAULT NULL COMMENT 'å®¶åº­ä½å€',
  `email` VARCHAR(50) DEFAULT NULL COMMENT 'é‚®ç®±',
  PRIMARY KEY(`id`)
)ENGINE=INNODB DEFAULT CHARSET=utf8
</code></pre>
<p><strong>æ ¼å¼</strong></p>
<pre><code class="language-sql">CREATE DATABASE [IF NOT EXISTS] `è¡¨æ˜`(
`å­—æ®µå` åˆ—ç±»å‹ [å±æ€§] [ç´¢å¼•] [æ³¨é‡Š]ï¼Œ
`å­—æ®µå` åˆ—ç±»å‹ [å±æ€§] [ç´¢å¼•] [æ³¨é‡Š]ï¼Œ
    â€¦â€¦
`å­—æ®µå` åˆ—ç±»å‹ [å±æ€§] [ç´¢å¼•] [æ³¨é‡Š]ï¼Œ
)[è¡¨ç±»å‹][å­—ç¬¦é›†è®¾ç½®][æ³¨é‡Š]
</code></pre>
<p><strong>å¸¸ç”¨å‘½ä»¤</strong></p>
<pre><code class="language-sql">SHOW CREATE DATABASE school -- æŸ¥çœ‹åˆ›å»ºæ•°æ®åº“çš„è¯­å¥
SHOW CREATE TABLE student -- æŸ¥çœ‹æ•°æ®åº“è¡¨çš„å®šä¹‰è¯­å¥
DESC student -- æ˜¾ç¤ºè¡¨çš„ç»“æ„
</code></pre>
<h3 id="æ•°æ®è¡¨çš„ç±»å‹">æ•°æ®è¡¨çš„ç±»å‹</h3>
<pre><code class="language-sql">-- å…³äºæ•°æ®åº“å¼•æ“
/*
INNODB é»˜è®¤ä½¿ç”¨~
MYISAM æ—©äº›å¹´ä½¿ç”¨çš„
*/
</code></pre>
<table>
<thead>
<tr>
<th></th>
<th>MYISAM</th>
<th>INNODB</th>
</tr>
</thead>
<tbody>
<tr>
<td>äº‹åŠ¡æ”¯æŒ</td>
<td>ä¸æ”¯æŒ</td>
<td>æ”¯æŒ</td>
</tr>
<tr>
<td>æ•°æ®è¡Œé”å®š</td>
<td>ä¸æ”¯æŒ</td>
<td>æ”¯æŒ</td>
</tr>
<tr>
<td>å¤–é”®çº¦æŸ</td>
<td>ä¸æ”¯æŒ</td>
<td>æ”¯æŒ</td>
</tr>
<tr>
<td>å…¨æ–‡ç´¢å¼•</td>
<td>æ”¯æŒ</td>
<td>ä¸æ”¯æŒ</td>
</tr>
<tr>
<td>è¡¨ç©ºé—´çš„å¤§å°</td>
<td>è¾ƒå°</td>
<td>è¾ƒå¤§ï¼Œçº¦ä¸º 2 å€</td>
</tr>
</tbody>
</table>
<p>å¸¸è§„ä½¿ç”¨æ“ä½œ</p>
<ul>
<li>MYISAMï¼ŒèŠ‚çº¦ç©ºé—´ï¼Œé€Ÿåº¦è¾ƒå¿«</li>
<li>INNODBï¼Œå®‰å…¨æ€§é«˜ï¼Œäº‹åŠ¡çš„å¤„ç†ï¼Œå¤šè¡¨å¤šç”¨æˆ·æ“ä½œ</li>
</ul>
<p><strong>åœ¨ç‰©ç†ç©ºé—´å­˜åœ¨çš„ä½ç½®ï¼š</strong></p>
<p>æ‰€æœ‰çš„æ•°æ®åº“æ–‡ä»¶éƒ½å­˜åœ¨ date ç›®å½•ä¸‹</p>
<p>æœ¬è´¨è¿˜æ˜¯æ–‡ä»¶çš„å­˜å‚¨</p>
<p>MySQL å¼•æ“åœ¨ç‰©ç†æ–‡ä»¶ä¸Šçš„åŒºåˆ«</p>
<ul>
<li>INNODBï¼Œåœ¨æ•°æ®åº“è¡¨ä¸­åªæœ‰ä¸€ä¸ª<code>*.frm</code>æ–‡ä»¶ï¼Œä»¥åŠä¸Šçº§ç›®å½•ä¸‹çš„<code>ibdata1</code> æ–‡ä»¶</li>
<li>MYISAM å¯¹åº”çš„æ–‡ä»¶
<ul>
<li><code>*.frm</code>è¡¨ç»“æ„çš„å®šä¹‰æ–‡ä»¶</li>
<li><code>*.MYD</code>æ•°æ®æ–‡ä»¶ï¼ˆdataï¼‰</li>
<li><code>*.MYI</code>ç´¢å¼•æ–‡ä»¶</li>
</ul>
</li>
</ul>
<p><strong>è®¾ç½®æ•°æ®åº“è¡¨çš„å­—ç¬¦é›†ç¼–ç </strong></p>
<pre><code class="language-sql">CHARSET=utf8
</code></pre>
<p>ä¸è®¾ç½®çš„è¯ï¼Œä¼šæ˜¯<code>mysql</code> é»˜è®¤çš„å­—ç¬¦é›†ç¼–ç ï¼ˆä¸æ”¯æŒä¸­æ–‡ï¼‰</p>
<p>åœ¨<code>my.ini</code>ä¸­é…ç½®é»˜è®¤çš„ç¼–ç </p>
<pre><code class="language-sql">character-set-server=utf8
</code></pre>
<h3 id="ä¿®æ”¹åˆ é™¤è¡¨">ä¿®æ”¹åˆ é™¤è¡¨</h3>
<p><strong>ä¿®æ”¹</strong></p>
<pre><code class="language-sql">-- ä¿®æ”¹è¡¨åï¼šALTER TABLE æ—§è¡¨å RENAME SA æ–°è¡¨å
-- teacher æ”¹ä¸º teacher1
ALTER TABLE teacher RENAME AS teacher1

-- å¢åŠ è¡¨çš„å­—æ®µï¼šALTER TABLE è¡¨å ADD å­—æ®µå åˆ—å±æ€§
ALTER TABLE teacher1 ADD age INT(11)

-- ä¿®æ”¹è¡¨çš„å­—æ®µï¼ˆé‡å‘½åï¼Œä¿®æ”¹çº¦æŸï¼ï¼‰
-- ALTER TABLE è¡¨å MODIFY å­—æ®µå åˆ—å±æ€§
ALTER TABLE teacher1 MODIFY age VARCHAR(11) -- ä¿®æ”¹çº¦æŸ

-- ALTER TABLE è¡¨å CHANGE æ—§åå­— æ–°åå­— åˆ—å±æ€§[]
ALTER TABLE teacher1 CHANGE age age1 INT(1) -- å­—æ®µé‡å‘½å

-- åˆ é™¤è¡¨çš„å­—æ®µï¼šALTER TABLE è¡¨å DROP å­—æ®µå
ALTER TABLE teacher1 DROP age1
</code></pre>
<p><strong>åˆ é™¤</strong></p>
<pre><code class="language-SQL">-- åˆ é™¤è¡¨ï¼ˆå­˜åœ¨å†åˆ é™¤ï¼‰
DROP TABLE IF EXISTS teacher1
</code></pre>
<p><em><u>æ‰€æœ‰çš„åˆ›å»ºå’Œåˆ é™¤å°½é‡åŠ ä¸Šåˆ¤æ–­ï¼Œä»¥å…æŠ¥é”™</u></em></p>
<p>æ³¨æ„ç‚¹ï¼š</p>
<ul>
<li><code>åå¼•å·`` </code>å­—æ®µåï¼Œä½¿ç”¨è¿™ä¸ªåŒ…è£¹</li>
<li>æ³¨é‡Šï¼š<code> -- /**/</code></li>
<li>å…³é”®å­—å¤§å°å†™ä¸æ•æ„Ÿï¼Œå»ºè®®ä½¿ç”¨å°å†™ï¼ˆå¤§å†™çœ‹ä¸æ˜ç™½å•è¯æ„æ€ï¼‰</li>
<li>æ‰€æœ‰ç¬¦åˆå…¨éƒ¨ä½¿ç”¨è‹±æ–‡ï¼</li>
</ul>
<h2 id="MySQL-çš„æ•°æ®ç®¡ç†">MySQL çš„æ•°æ®ç®¡ç†</h2>
<h3 id="å¤–é”®ï¼ˆäº†è§£å³å¯ï¼‰">å¤–é”®ï¼ˆäº†è§£å³å¯ï¼‰</h3>
<p>æ–¹å¼ä¸€ï¼šåœ¨åˆ›å»ºè¡¨çš„æ—¶å€™ï¼Œå¢åŠ çº¦æŸï¼ˆéº»çƒ¦ï¼Œæ¯”è¾ƒå¤æ‚ï¼‰</p>
<pre><code class="language-sql">-- å­¦ç”Ÿè¡¨çš„ gradeid å­—æ®µï¼Œè¦å»å¼•ç”¨å¹´çº§è¡¨çš„ gradeid
-- å®šä¹‰å¤–é”®key
-- ç»™è¿™ä¸ªå¤–é”®æ·»åŠ çº¦æŸï¼ˆæ‰§è¡Œå¼•ç”¨ï¼‰ reference å¼•ç”¨
CREATE TABLE IF NOT EXISTS `student`(
  `id` INT(4) NOT NULL AUTO_INCREMENT COMMENT 'å­¦å·',
  `name` VARCHAR(30) NOT NULL DEFAULT 'åŒ¿å' COMMENT 'å§“å',
  `pwd` VARCHAR(20) NOT NULL DEFAULT '123456' COMMENT 'å¯†ç ',
  `sex` VARCHAR(2) NOT NULL DEFAULT 'å¥³' COMMENT 'æ€§åˆ«',
  `birthday` DATETIME DEFAULT NULL COMMENT 'å‡ºç”Ÿæ—¥æœŸ',
  `gradeid` INT(10) NOT NULL COMMENT 'å­¦ç”Ÿçš„å¹´çº§',
  `address` VARCHAR(100) DEFAULT NULL COMMENT 'å®¶åº­ä½å€',
  `email` VARCHAR(50) DEFAULT NULL COMMENT 'é‚®ç®±',
  PRIMARY KEY(`id`),
  KEY `FK_gradeid` (`gradeid`),
  CONSTRAINT `FK_gradeid` FOREIGN KEY (`gradeid`) REFERENCES `grade` (`gradeid`)
)ENGINE=INNODB DEFAULT CHARSET=utf8
</code></pre>
<ul>
<li>
<p>åˆ é™¤æœ‰å¤–é”®å…³ç³»çš„è¡¨çš„æ—¶å€™ï¼Œå¿…é¡»è¦å…ˆåˆ é™¤å¼•ç”¨åˆ«äººçš„è¡¨ï¼ˆä»è¡¨ï¼‰ï¼Œå†åˆ é™¤è¢«å¼•ç”¨çš„è¡¨ï¼ˆä¸»è¡¨ï¼‰</p>
</li>
<li>
<p>ä»¥ä¸Šçš„æ“ä½œéƒ½æ˜¯ç‰©ç†å¤–é”®ï¼Œæ•°æ®åº“çº§åˆ«çš„å¤–é”®ï¼Œæˆ‘ä»¬ä¸å»ºè®®ä½¿ç”¨ï¼ï¼ˆé¿å…æ•°æ®åº“è¿‡å¤šé€ æˆå›°æ‰°ï¼‰</p>
</li>
<li>
<p>æœ€ä½³å®è·µï¼š</p>
<ul>
<li>æ•°æ®åº“å°±æ˜¯å•çº¯çš„è¡¨ï¼Œåªç”¨æ¥å­˜æ•°æ®ï¼Œåªæœ‰è¡Œï¼ˆæ•°æ®ï¼‰å’Œåˆ—ï¼ˆå­—æ®µï¼‰</li>
<li>æˆ‘ä»¬æƒ³è¦ä½¿ç”¨å¤šå¼ è¡¨çš„æ•°æ®ï¼Œæƒ³ä½¿ç”¨å¤–é”®ï¼ˆç¨‹åºå»å®ç°ï¼‰</li>
</ul>
</li>
</ul>
<blockquote>
<p>å…¶å®è¿™ä¸ªè¯æ˜¯è€ç”Ÿå¸¸è°ˆï¼Œå¾ˆå¤šäººåœ¨å·¥ä½œä¸­ç¡®å®ä¹Ÿä¸ä¼šä½¿ç”¨å¤–é”®ï¼ŒåŒ…æ‹¬åœ¨é˜¿é‡Œçš„<code>JAVA</code>è§„èŒƒä¸­ä¹Ÿã€–å¼ºåˆ¶ã€—ä¸å¾—ä½¿ç”¨å¤–é”®ä¸çº§è”ï¼Œä¸€åˆ‡å¤–é”®æ—¢å¿µå¿…é¡»åœ¨åº”ç”¨å±‚è§£å†³</p>
<p>ä½†æ˜¯å‘¢ï¼Œæ´µé—®ä»–ä»¬åŸå› ï¼Œå¤§å¤šæ˜¯è¿™ä¹ˆå›ç­”çš„<br>
æ¯æ¬¡åš<code>DELETE</code>æˆ–è€…<code>UPDATE</code>å¿…é¡»è€ƒè™‘å¤–é”®çº¦æŸä¼šå¯¼è‡´å¼€å‘çš„æ—¶å€™å¾ˆç—›è‹¦ï¼Œæµ‹è¿‡æä¸ºä¸æ–¹ä¾¿</p>
</blockquote>
<h3 id="DML-è¯­è¨€ï¼ˆå…¨éƒ¨è®°ä½ï¼‰">DML è¯­è¨€ï¼ˆå…¨éƒ¨è®°ä½ï¼‰</h3>
<p>æ•°æ®åº“çš„æ„ä¹‰ï¼šæ•°æ®å­˜å‚¨ï¼Œæ•°æ®ç®¡ç†</p>
<p>DML è¯­è¨€ï¼šæ•°æ®åº“æ“ä½œè¯­è¨€</p>
<ul>
<li>insert</li>
<li>update</li>
<li>delete</li>
</ul>
<h3 id="æ·»åŠ -insert">æ·»åŠ  insert</h3>
<pre><code class="language-sql">-- æ’å…¥è¯­å¥ï¼ˆæ·»åŠ ï¼‰
-- insert into è¡¨å([å­—æ®µå1,å­—æ®µå2,å­—æ®µå3]) values('å€¼1'),('å€¼2'),('å€¼3'),...)
INSERT INTO `grade` (`gradename`) VALUES('å¤§å››')

-- ç”±äºä¸»é”®è‡ªå¢æˆ‘ä»¬å¯ä»¥çœç•¥å­—æ®µåï¼Œä½†æ˜¯å®ƒä¼šä¸€ä¸€åŒ¹é…ï¼Œæ‰€ä»¥å‚æ•°å¿…é¡»åŒ…å«æ‰€æœ‰å­—æ®µçš„å€¼
INSERT INTO `grade` VALUES (3, 'å¤§ä¸‰')

-- æ’å…¥å¤šä¸ªå­—æ®µ
INSERT INTO `grade`(`gradename`) VALUES('å¤§ä¸€'),('å¤§äºŒ')

INSERT INTO `student`(`name`) VALUES('å¼ ä¸‰')

INSERT INTO `student`(`name`,`pwd`,`sex`) VALUES('å¼ ä¸‰','aaaaaa','ç”·')

INSERT INTO `student`(`name`,`pwd`,`sex`)
VALUES('æå››','aaaaaa','ç”·'),('ç‹äº”','bbbbbb','ç”·')

</code></pre>
<p>è¯­æ³•ï¼šinsert into è¡¨å([å­—æ®µå1,å­—æ®µå2,å­—æ®µå3]) values(â€˜å€¼1â€™),(â€˜å€¼2â€™),(â€˜å€¼3â€™),â€¦)</p>
<p>æ³¨æ„äº‹é¡¹ï¼š</p>
<ol>
<li>å­—æ®µå’Œå­—æ®µä¹‹é—´ä½¿ç”¨ï¼Œè‹±æ–‡é€—å·éš”å¼€</li>
<li>å­—æ®µæ˜¯å¯ä»¥çœç•¥çš„ï¼Œä½†æ˜¯åé¢çš„å€¼å¿…é¡»è¦ä¸€ä¸€å¯¹åº”ï¼Œä¸èƒ½å°‘</li>
<li>å¯ä»¥åŒæ—¶æ’å…¥å¤šæ¡æ•°æ®ï¼Œ<code>VALUES</code>åé¢çš„å€¼ï¼Œéœ€è¦ä½¿ç”¨ï¼Œéš”å¼€å³å¯<code>VALUES(),(),...</code></li>
</ol>
<h3 id="ä¿®æ”¹-update">ä¿®æ”¹ update</h3>
<pre><code class="language-sql">-- update ä¿®æ”¹è° ï¼ˆæ¡ä»¶ï¼‰ set åŸæ¥çš„å€¼=æ–°å€¼

-- ä¿®æ”¹å­¦å‘˜çš„åå­—ï¼ŒæŠŠ id = 1 çš„è¿™ä¸ªäººçš„åå­—æ”¹ä¸ºå¼ ä¸‰
update `student` set `name`='å¼ ä¸‰' where id = 1;

-- ä¸æŒ‡å®šæ¡ä»¶çš„æƒ…å†µä¸‹ï¼Œæ”¹åŠ¨æ‰€æœ‰çš„è¡¨
update `student` set `name`='çŒ«é¾™'

-- è¯­æ³•ï¼š
-- update è¡¨å set colnum_name = value where [æ¡ä»¶]

-- ä¿®æ”¹å¤šä¸ªå±æ€§ï¼Œé€—å·éš”å¼€
update `student` set `name`='ç‹—é¾™',`email`='208329492@qq.com' where id = 1;

-- è¯­æ³•ï¼š
-- update è¡¨å set colnum_name = value,[colnum_name = value,,] where [æ¡ä»¶]
</code></pre>
<p>æ¡ä»¶ï¼šwhere å­—å¥ è¿ç®—ç¬¦ id ç­‰äºæŸä¸ªå€¼ï¼Œåœ¨æŸä¸ªåŒºé—´å†…ä¿®æ”¹</p>
<p>æ“ä½œç¬¦ä¼šè¿”å›å¸ƒå°”å€¼</p>
<table>
<thead>
<tr>
<th>æ“ä½œç¬¦</th>
<th>å«ä¹‰</th>
<th>èŒƒå›´</th>
<th>ç»“æœ</th>
</tr>
</thead>
<tbody>
<tr>
<td>=</td>
<td>ç­‰äº</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;&gt; æˆ– !=</td>
<td>ä¸ç­‰äº</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&gt;</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&gt;=</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;=</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>BETWEENâ€¦ANDâ€¦</td>
<td>é—­åˆç©ºé—´å†…</td>
<td></td>
<td></td>
</tr>
<tr>
<td>AND</td>
<td>ä¸</td>
<td></td>
<td></td>
</tr>
<tr>
<td>OR</td>
<td>æˆ–</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<pre><code class="language-sql">-- å¤šä¸ªæ¡ä»¶å®šä½æ•°æ®
-- æŠŠæ€§åˆ«ä¸ºå¥³å§“åä¸ºåçš„è¿™ä¸ªäººçš„åå­—æ”¹ä¸ºâ€œå°æ ‘â€
update `student` set `name`='å°æ ‘' where `name`='å' and sex = 'å¥³'
</code></pre>
<p>è¯­æ³•ï¼š<code>update è¡¨å set colnum_name =value,[colnum_name =value] where [æ¡ä»¶]</code></p>
<p>æ³¨æ„ï¼š</p>
<ul>
<li>colnum_name æ˜¯æ•°æ®åº“çš„åˆ—ï¼Œå°½é‡å¸¦ä¸Š``</li>
<li>æ¡ä»¶ï¼Œç­›é€‰çš„æ¡ä»¶ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œåˆ™ä¼šä¿®æ”¹æ‰€æœ‰çš„åˆ—</li>
<li>valueï¼Œæ˜¯ä¸€ä¸ªå…·ä½“çš„å€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå˜é‡</li>
<li>å¤šä¸ªè®¾ç½®çš„å±æ€§ä¹‹é—´ï¼Œä½¿ç”¨è‹±æ–‡é€—å·éš”å¼€</li>
</ul>
<pre><code class="language-sql">update `student` set `birthday` = current_time where `name`='å°æ ‘' and sex='ç”·'
</code></pre>
<h3 id="åˆ é™¤-delete">åˆ é™¤ delete</h3>
<p>è¯­æ³•ï¼š<code>delete from è¡¨å [where æ¡ä»¶] </code></p>
<pre><code class="language-sql">-- åˆ é™¤æ•°æ®(é¿å…è¿™æ ·å†™ï¼Œæœ‰ä¸“é—¨çš„åˆ åº“æ–¹æ³•)
delete from `student`

-- åˆ é™¤æŒ‡å®šæ•°æ®
delete from `student` where id = 1;
</code></pre>
<p>TRUNCATE</p>
<p>ä½œç”¨ï¼šå®Œå…¨æ¸…ç©ºä¸€ä¸ªæ•°æ®åº“è¡¨ï¼Œè¡¨çš„ç»“æ„å’Œç´¢å¼•çº¦æŸä¸ä¼šå˜</p>
<pre><code class="language-sql">-- æ¸…ç©º student è¡¨
truncate `student`
</code></pre>
<p>delete å’Œ truncate çš„åŒºåˆ«</p>
<ul>
<li>ç›¸åŒç‚¹ï¼šéƒ½èƒ½åˆ é™¤æ•°æ®ï¼Œéƒ½ä¸ä¼šåˆ é™¤è¡¨çš„ç»“æ„</li>
<li>ä¸åŒ
<ul>
<li>truncate é‡æ–°è®¾ç½®ï¼Œè‡ªå¢åˆ—ï¼Œè®¡æ•°å™¨ä¼šæ¸…é›¶</li>
<li>truncate ä¸ä¼šå½±å“äº‹åŠ¡</li>
</ul>
</li>
</ul>
<pre><code class="language-sql">-- æµ‹è¯• delete å’Œ truncate çš„åŒºåˆ«
-- æŸ¥çœ‹æ•°æ®åº“
SHOW DATABASES;
-- ä½¿ç”¨æ•°æ®åº“
use `mysql`;
-- æŸ¥çœ‹æ•°æ®è¡¨
 

-- åˆ›å»ºè¡¨æ ¼
create table `test`(
	`id` int(4) not null auto_increment,
    `coll` varchar(20)not null,
    primary key(`id`)
)engine=innodb default charset=utf8

-- æ’å…¥æ•°æ®
insert into `test`(`coll`) values('1'),('2'),('3');

-- åˆ é™¤è¡¨ï¼Œä¸ä¼šå½±å“è‡ªå¢
delete from `test`;

-- åˆ é™¤è¡¨ï¼Œè‡ªå¢å½’é›¶
truncate table `test`;
</code></pre>
<p>äº†è§£å³å¯ï¼š<code>delete åˆ é™¤çš„é—®é¢˜</code>ï¼Œé‡å¯æ•°æ®åº“ï¼Œç°è±¡</p>
<ul>
<li>innodb è‡ªå¢åˆ—ä¼šä» 1 å¼€å§‹ï¼ˆå­˜åœ¨å†…å­˜å½“ä¸­ï¼Œæ–­ç‚¹å³å¤±ï¼‰</li>
<li>myisam ç»§ç»­ä»ä¸Šä¸€ä¸ªè‡ªå¢é‡å¼€å§‹ï¼ˆå­˜åœ¨æ–‡ä»¶ä¸­ä¸ä¼šä¸¢å¤±ï¼‰</li>
</ul>
<h2 id="DQL-æŸ¥è¯¢æ•°æ®ï¼ˆæœ€é‡ç‚¹ï¼‰">DQL æŸ¥è¯¢æ•°æ®ï¼ˆæœ€é‡ç‚¹ï¼‰</h2>
<h3 id="DQL">DQL</h3>
<p><code>Date Query Language</code> ï¼šæ•°æ®æŸ¥è¯¢è¯­è¨€</p>
<ul>
<li>
<p>æ‰€æœ‰çš„æŸ¥è¯¢æ“ä½œéƒ½ç”¨å®ƒï¼Œ<code>select </code>é€‰æ‹©</p>
</li>
<li>
<p>ç®€å•æŸ¥è¯¢ï¼Œå¤æ‚æŸ¥è¯¢</p>
</li>
<li>
<p>:warning:æ•°æ®åº“ä¸­æœ€æ ¸å¿ƒçš„è¯­è¨€</p>
</li>
<li>
<p>ä½¿ç”¨é¢‘ç‡æœ€é«˜</p>
</li>
</ul>
<h3 id="æŒ‡å®šæŸ¥è¯¢å­—æ®µ">æŒ‡å®šæŸ¥è¯¢å­—æ®µ</h3>
<ul>
<li>
<p>æ•°æ®åº“ school</p>
<ul>
<li>
<p>grade</p>
</li>
<li>
<p>result</p>
</li>
<li>
<p>student</p>
</li>
<li>
<p>subject</p>
</li>
</ul>
</li>
</ul>
<pre><code class="language-sql">-- æŸ¥è¯¢å…¨éƒ¨çš„å­¦ç”Ÿï¼Œselect å­—æ®µ from è¡¨
select * from student
-- æŸ¥è¯¢å…¨éƒ¨çš„æˆç»©
selsct * from result

-- æŸ¥è¯¢æŒ‡å®šå­—æ®µ
select `StudentNo`,`StudentName` from student

-- åˆ«åï¼Œç»™ç»“æœèµ·åå­—ï¼ŒAS
select `StudentNo` AS å­¦å·,`StudentName` AS å§“å from student AS s

-- å‡½æ•° concatï¼ˆa,bï¼‰
select concat('å§“åï¼š'ï¼ŒStudentName) AS æ–°åå­— from student
</code></pre>
<p>è¯­æ³•ï¼š<code>select å­—æ®µï¼Œï¼Œï¼Œfrom è¡¨</code></p>
<blockquote>
<p>æœ‰çš„æ—¶å€™ï¼Œåˆ—åå­—ä¸æ˜æœ—ï¼Œå¯ä»¥èµ·åˆ«å</p>
<p>å­—æ®µå AS åˆ«åï¼Œè¡¨å AS åˆ«å</p>
</blockquote>
<p><strong>å»é‡ distinctï¼š</strong></p>
<p>ä½œç”¨ï¼šå»é™¤ select æŸ¥è¯¢å‡ºæ¥çš„ç»“æœä¸­é‡å¤çš„æ•°æ®</p>
<pre><code class="language-sql">select * from result -- æŸ¥è¯¢å…¨éƒ¨çš„æˆç»©

-- æŸ¥è¯¢ä¸€ä¸‹æœ‰å“ªäº›åŒå­¦å‚åŠ äº†è€ƒè¯•
select `StudentNo` from result

-- å‘ç°é‡å¤æ•°æ®ï¼Œresult æ•°æ®è¡¨ä¸­çš„ StudentNo åˆ—çš„é‡å¤æ•°æ®é€šè¿‡ distinct å»é‡
select distinct `StudentNo` from result

-- æŸ¥çœ‹ç³»ç»Ÿçš„ç‰ˆæœ¬
select version()
select 100*3-1 AS è®¡ç®—ç»“æœ
-- æŸ¥è¯¢è‡ªå¢çš„æ­¥é•¿
select @@auto_increment_increment

-- ç»™æ‰€æœ‰å­¦ç”Ÿæˆç»©åŠ ä¸€åˆ†
select `StudentNo`,`StudentResult +1` AS 'æåˆ†å' from result
</code></pre>
<p>æ•°æ®åº“ä¸­çš„è¡¨è¾¾å¼ï¼šæ–‡æœ¬å€¼ï¼Œåˆ—ï¼ŒNullï¼Œå‡½æ•°ï¼Œè®¡ç®—è¡¨è¾¾å¼ï¼Œç³»ç»Ÿå˜é‡</p>
<p><span style='color:#FFFFFF;background:#5B8983;font-size:;font-family:å­—ä½“;'>select è¡¨è¾¾å¼</span></p>
<h3 id="where-æ¡ä»¶å­—å¥">where æ¡ä»¶å­—å¥</h3>
<p>ä½œç”¨ï¼šæ£€ç´¢æ•°æ®åº“ä¸­ç¬¦åˆæ¡ä»¶çš„å€¼</p>
<p><strong>é€»è¾‘è¿ç®—ç¬¦ï¼š</strong></p>
<p>æœç´¢çš„æ¡ä»¶ç”±ä¸€ä¸ªæˆ–å¤šä¸ªè¡¨è¾¾å¼ç»„æˆï¼Œç»“æ„å¸ƒå°”å€¼</p>
<table>
<thead>
<tr>
<th>è¿ç®—ç¬¦</th>
<th>è¯­æ³•</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>and</code>  <code>&amp;</code></td>
<td><code>a and b</code>  <code>a&amp;&amp;b</code></td>
<td>é€»è¾‘ä¸ï¼Œä¸¤ä¸ªä¸ºçœŸç»“æœä¸ºçœŸ</td>
</tr>
<tr>
<td><code>or</code>  `</td>
<td></td>
<td>`</td>
</tr>
<tr>
<td><code>Not</code>  <code>!</code></td>
<td><code>not a</code>  <code>!a</code></td>
<td>é€»è¾‘éï¼ŒçœŸä¸ºå‡ï¼Œå‡ä¸ºçœŸ</td>
</tr>
</tbody>
</table>
<p>å°½é‡ä½¿ç”¨è‹±æ–‡å­—æ¯</p>
<pre><code class="language-sql">-- æŸ¥è¯¢å­¦ç”Ÿçš„æˆç»©
select studentNo,`studentResult` from result

-- æŸ¥è¯¢å­¦ç”Ÿçš„æˆç»©åœ¨ 95-100 ä¹‹é—´çš„
select studentNo,`studentResult` from result where studentResult&gt;=95 and studentResult&lt;=100

select studentNo,`studentResult` from result where studentResult&gt;=95 &amp;&amp; studentResult&lt;=10

-- æ¨¡ç³ŠæŸ¥è¯¢ï¼ˆåŒºé—´ï¼‰
select studentNo,`studentResult` from result where between 95 and 100

-- é™¤äº† 1000 å·å­¦ç”Ÿä¹‹å¤–å­¦ç”Ÿçš„æˆç»©
select studentNo,`studentResult` from result where studentNo!=1000

select studentNo,`studentResult` from result where not studentNo = 1000
</code></pre>
<p><strong>æ¯”è¾ƒè¿ç®—ç¬¦</strong></p>
<p>æ¨¡ç³ŠæŸ¥è¯¢</p>
<table>
<thead>
<tr>
<th>è¿ç®—ç¬¦</th>
<th>è¯­æ³•</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>is null</td>
<td>a is null</td>
<td>å¦‚æœæ“ä½œç¬¦ä¸º nullï¼Œåˆ™ç»“æœä¸ºçœŸ</td>
</tr>
<tr>
<td>is not null</td>
<td>a is not null</td>
<td>å¦‚æœæ“ä½œç¬¦ä¸º not nullï¼Œåˆ™ç»“æœä¸ºçœŸ</td>
</tr>
<tr>
<td>between</td>
<td>a between b and c</td>
<td>a åœ¨ b å’Œ c ä¹‹é—´ï¼Œç»“æœä¸ºçœŸ</td>
</tr>
<tr>
<td>like</td>
<td>a like b</td>
<td>SQL åŒ¹é…ï¼Œa åŒ¹é…åˆ° bï¼Œç»“æœä¸ºçœŸ</td>
</tr>
<tr>
<td>in</td>
<td>a in(a1,a2,a3)</td>
<td>å‡è®¾ a åœ¨ a1â€¦â€¦å…¶ä¸­çš„ä¸€ä¸ªå€¼ä¸­ï¼Œç»“æœä¸ºçœŸ</td>
</tr>
</tbody>
</table>
<pre><code class="language-sql">-- æŸ¥è¯¢å§“åˆ˜çš„åŒå­¦
-- likeï¼ˆ% æ˜¯ 0 åˆ°ä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼‰ï¼ˆ_ æ˜¯ä¸€ä¸ªå­—ç¬¦ï¼‰
select `studentNo`,`studentName` from `student`
where studentName like 'åˆ˜%'

-- æŸ¥è¯¢å§“åˆ˜çš„åŒå­¦ï¼Œåå­—åé¢åªæœ‰ä¸€ä¸ªå­—çš„
select `studentNo`,`studentName` from `student`
where studentName like 'åˆ˜_'

-- æŸ¥è¯¢å§“åˆ˜çš„åŒå­¦ï¼Œåå­—åé¢åªæœ‰ä¸¤ä¸ªå­—çš„
select `studentNo`,`studentName` from `student`
where studentName like 'åˆ˜__'

-- æŸ¥è¯¢åå­—ä¸­é—´æœ‰å˜‰å­—çš„åŒå­¦ %å˜‰%
select `studentNo`,`studentName` from `student`
where studentName like '%å˜‰%'

-- ---------   inï¼ˆå…·ä½“çš„ä¸€ä¸ªæˆ–å¤šä¸ªå€¼ï¼‰    ------------
-- æŸ¥è¯¢ 1001 1002 1003 å·å­¦å‘˜ä¿¡æ¯
select `studentNo`,`studentName` from `student`
where studentNo in (1001,1002,1003);

-- æŸ¥è¯¢åœ¨åŒ—äº¬çš„å­¦å‘˜ä¿¡æ¯
select `studentNo`,`studentName` from `student`
where `adress` in ('åŒ—äº¬')

-- ----------  null not null   -------------
-- æŸ¥è¯¢åœ°å€ä¸ºç©ºçš„å­¦ç”Ÿ
select `studentNo`,`studentName` from `student`
where `adress`='' 
select `studentNo`,`studentName` from `student`
where `adress` or `adress` is null

-- æŸ¥è¯¢æœ‰å‡ºç”Ÿæ—¥æœŸçš„åŒå­¦ï¼Œis not null ä¸ä¸ºç©º
select `studentNo`,`studentName` from `student`
where `borndate` is not null

-- æŸ¥è¯¢æ²¡æœ‰å‡ºç”Ÿæ—¥æœŸçš„åŒå­¦ï¼Œis null ä¸ºç©º
select `studentNo`,`studentName` from `student`
where `borndate` is null
</code></pre>
<h3 id="è”è¡¨æŸ¥è¯¢">è”è¡¨æŸ¥è¯¢</h3>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://favorably-7690.oss-cn-beijing.aliyuncs.com/SQL%20%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/202410081514458.webp" alt="img"></p>
<p><strong>JOIN å¯¹æ¯”ï¼š</strong></p>
<table>
<thead>
<tr>
<th>æ“ä½œç¬¦åç§°</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>Inner join</td>
<td>å¦‚æœè¡¨ä¸­æœ‰è‡³å°‘ä¸€ä¸ªåŒ¹é…ï¼Œåˆ™è¿”å›è¡Œ</td>
</tr>
<tr>
<td>left join</td>
<td>ä»å·¦è¡¨ä¸­è¿”å›æ‰€æœ‰çš„è¡Œï¼Œå³ä½¿å³è¡¨ä¸­æ²¡æœ‰åŒ¹é…</td>
</tr>
<tr>
<td>right join</td>
<td>ä»å³è¡¨ä¸­è¿”å›æ‰€æœ‰çš„è¡Œï¼Œå³ä½¿å·¦è¡¨ä¸­æ²¡æœ‰åŒ¹é…</td>
</tr>
</tbody>
</table>
<pre><code class="language-sql">/*
è¿æ¥æŸ¥è¯¢
  å¦‚æœéœ€è¦å¤šå¼ æ•°æ®è¡¨çš„æ•°æ®è¿›è¡ŒæŸ¥è¯¢ï¼Œåˆ™å¯é€šè¿‡è¿æ¥è¿ç®—ç¬¦å®ç°å¤šä¸ªæŸ¥è¯¢
- å†…è¿æ¥ inner join
  æŸ¥è¯¢ä¸¤ä¸ªè¡¨ä¸­çš„ç»“æœé›†ä¸­çš„äº¤é›†
- å¤–è¿æ¥ outer join
  - å·¦å¤–è¿æ¥ left join
    ä»¥å·¦è¡¨ä½œä¸ºåŸºå‡†ï¼Œå³è¡¨æ¥ä¸€ä¸€åŒ¹é…ï¼ŒåŒ¹é…ä¸ä¸Šçš„ï¼Œè¿”å›å·¦è¡¨çš„è®°å½•ï¼Œå³è¡¨ä»¥NULLå¡«å……
  - å³å¤–è¿æ¥ right join
    ä»¥å³è¡¨ä½œä¸ºåŸºå‡†ï¼Œå·¦è¡¨æ¥ä¸€ä¸€åŒ¹é…ï¼ŒåŒ¹é…ä¸ä¸Šçš„ï¼Œè¿”å›å³è¡¨çš„è®°å½•ï¼Œå·¦è¡¨ä»¥NULLå¡«å……
*/

/*
1.åˆ†æéœ€æ±‚ï¼Œåˆ†ææŸ¥è¯¢çš„å­—æ®µæ¥è‡ªå“ªäº›è¡¨
2.ç¡®å®šä½¿ç”¨å“ªç§è¿æ¥æŸ¥è¯¢ï¼š7é€‰
3.ç¡®å®šäº¤å‰ç‚¹ï¼ˆè¿™ä¸¤ä¸ªè¡¨ä¸­å“ªä¸ªæ•°æ®æ˜¯ç›¸åŒçš„ï¼‰
4.åˆ¤æ–­çš„æ¡ä»¶ï¼š å­¦ç”Ÿè¡¨ä¸­ studentNo = æˆç»©è¡¨ä¸­ studentNo
*/

--  ==========è”è¡¨æŸ¥è¯¢============
-- Joinï¼ˆè¡¨ï¼‰on (åˆ¤æ–­çš„æ¡ä»¶) è¿æ¥æŸ¥è¯¢
-- where ç­‰å€¼æŸ¥è¯¢
SELECT s.studentno, studentname, subjectno, studentresult
FROM student AS s
INNER JOIN result AS r
WHERE s.`studentno` = r.`studentno`


-- right join
SELECT s.studentno, studentname, subjectno, studentresult
FROM student AS s
RIGHT JOIN result AS r
ON r.`studentno` = s.`studentno`

-- left å·¦è¿æ¥ï¼ˆæŸ¥è¯¢æ‰€æœ‰åŒå­¦ï¼Œä¸è€ƒè¯•çš„ä¹Ÿä¼šæŸ¥å‡ºæ¥ï¼‰
SELECT s.studentno, studentname, subjectno, studentresult
FROM student s
LEFT JOIN result r
ON s.`studentno` = r.`studentno`

-- æŸ¥ç¼ºè€ƒçš„åŒå­¦ï¼ˆå·¦è¿æ¥åº”ç”¨åœºæ™¯ï¼‰
SELECT s.studentno, studentname, subjectno, studentresult
FROM student s
LEFT JOIN result r
ON s.`studentno` = r.`studentno`
WHERE studentresult IS NULL

-- æ€è€ƒé¢˜ï¼šæŸ¥è¯¢å‚åŠ äº†è€ƒè¯•çš„åŒå­¦ä¿¡æ¯ï¼ˆå­¦å·ï¼Œå­¦ç”Ÿå§“åï¼Œç§‘ç›®åï¼Œåˆ†æ•°ï¼‰
SELECT s.`studentno`, `studentname`, `subjectname`, `studentresult`
FROM student AS s,
INNER JOIN result AS r,
ON s.`studentno` = r.`studentno`
INNER JOIN `subject` AS sub
ON sub.subjectno = r.subjectno
</code></pre>
<p><strong>è‡ªè¿æ¥</strong></p>
<pre><code class="language-sql">/*
è‡ªè¿æ¥ï¼š
  æ•°æ®è¡¨ä¸è‡ªèº«è¿›è¡Œè¿æ¥
  
éœ€æ±‚ï¼šä»ä¸€ä¸ªåŒ…å«æ ç›®IDï¼Œæ ç›®åç§°å’Œçˆ¶æ ç›®IDçš„è¡¨ä¸­
      æŸ¥è¯¢çˆ¶æ ç›®åç§°å’Œå…¶å®ƒå­æ ç›®åç§°
*/

-- åˆ›å»ºè¡¨å¹¶æ’å…¥æ•°æ®

CREATE TABLE `school`.`category`( `categoryid` INT(3) NOT NULL COMMENT 'id', 
`pid` INT(3) NOT NULL COMMENT 'çˆ¶id æ²¡æœ‰çˆ¶åˆ™ä¸º1', 
`categoryname` VARCHAR(10) NOT NULL COMMENT 'ç§ç±»åå­—', 
PRIMARY KEY (`categoryid`) 
) ENGINE=INNODB CHARSET=utf8 COLLATE=utf8_general_ci; 

INSERT INTO `school`.`category` (`categoryid`, `pid`, `categoryname`) VALUES ('2', '1', 'ä¿¡æ¯æŠ€æœ¯');
INSERT INTO `school`.`CATEGOrY` (`categoryid`, `pid`, `categoryname`) VALUES ('3', '1', 'è½¯ä»¶å¼€å‘');
INSERT INTO `school`.`category` (`categoryid`, `PId`, `categoryname`) VALUES ('5', '1', 'ç¾æœ¯è®¾è®¡');
INSERT INTO `School`.`category` (`categoryid`, `pid`, `categorynamE`) VALUES ('4', '3', 'æ•°æ®åº“'); 
INSERT INTO `school`.`category` (`CATEgoryid`, `pid`, `categoryname`) VALUES ('8', '2', 'åŠå…¬ä¿¡æ¯');
INSERT INTO `school`.`category` (`categoryid`, `pid`, `CAtegoryname`) VALUES ('6', '3', 'webå¼€å‘'); 
INSERT INTO `SCHool`.`category` (`categoryid`, `pid`, `categoryname`) VALUES ('7', '5', 'psæŠ€æœ¯');

-- ç¼–å†™SQLè¯­å¥ï¼Œå°†æ ç›®çš„çˆ¶å­å…³ç³»å‘ˆç°å‡ºæ¥ï¼ˆçˆ¶æ ç›®åç§°ï¼Œå­æ ç›®åç§°ï¼‰
-- æ ¸å¿ƒæ€æƒ³ï¼šæŠŠä¸€å¼ è¡¨çœ‹æˆä¸¤å¼ ä¸€æ¨¡ä¸€æ ·çš„è¡¨ï¼Œç„¶åå°†è¿™ä¸¤å¼ è¡¨è¿æ¥æŸ¥è¯¢ï¼ˆè‡ªè¿æ¥ï¼‰
SELECT a.categoryname AS 'çˆ¶æ ç›®', b.categoryname AS 'å­æ ç›®'
FROM category AS a, category AS b
WHERE a.`categoryid` = b.`pid`

-- æ€è€ƒé¢˜ï¼šæŸ¥è¯¢å‚åŠ äº†è€ƒè¯•çš„åŒå­¦ä¿¡æ¯ï¼ˆå­¦å·ï¼Œå­¦ç”Ÿå§“åï¼Œç§‘ç›®åï¼Œåˆ†æ•°ï¼‰
SELECT s.studentno, studentname, subjectname, studentresult
FROM student s
INNER JOIN result r
ON r.studentno = s.studentno
INNER JOIN `subject` sub
ON sub.subjectno = r.subjectno

-- æŸ¥è¯¢å­¦å‘˜åŠå…¶æ‰€å±çš„å¹´çº§ï¼ˆå­¦å·ï¼Œå­¦ç”Ÿå§“åï¼Œå¹´çº§åï¼‰
SELECT studentno AS å­¦å·, studentname AS å­¦ç”Ÿå§“å, gradename AS å¹´çº§åç§°
FROM student s
INNER JOIN grade g
ON s.`gradeid` = g.`gradeid`

-- æŸ¥è¯¢ç§‘ç›®åŠå…¶æ‰€å±å¹´çº§ï¼ˆç§‘ç›®åç§°ï¼Œå¹´çº§åç§°ï¼‰
SELECT subjectname AS ç§‘ç›®åç§°, gradename AS å¹´çº§åç§°
FROM `subject` sub
INNER JOIN grade g
ON sub.gradeid = g.gradeid

-- æŸ¥è¯¢ æ•°æ®åº“ç»“æ„-1 çš„æ‰€æœ‰è€ƒè¯•ç»“æœï¼ˆå­¦å·ï¼Œå­¦ç”Ÿå§“åï¼Œç§‘ç›®åç§°ï¼Œæˆç»©ï¼‰
SELECT s.studentno, studentname, subjectname, studentresult
FROM student s
INNER JOIN result r
ON r.studentno = s.studentno
INNER JOIN `subject` sub
ON r.subjectno = sub.subjectno
WHERE subjectname = 'æ•°æ®åº“ç»“æ„-1'
</code></pre>
<h3 id="æ’åºå’Œåˆ†é¡µ">æ’åºå’Œåˆ†é¡µ</h3>
<pre><code class="language-sql">--  ==========æ’åº===========
/*
è¯­æ³•ï¼šorder by
  order by è¯­å¥ç”¨äºæ ¹æ®æŒ‡å®šçš„åˆ—å¯¹ç»“æœé›†è¿›è¡Œæ’åº
  order by è¯­å¥é»˜è®¤æŒ‰ç…§ASCå‡åºå¯¹è®°å½•è¿›è¡Œæ’åº
  å¦‚æœå¸Œæœ›æŒ‰ç…§ é™åº å¯¹è®°å½•è¿›è¡Œæ’åºï¼Œå¯ä»¥ä½¿ç”¨ DESC å…³é”®å­—
*/

-- æŸ¥è¯¢ æ•°æ®åº“ç»“æ„-1 çš„æ‰€æœ‰è€ƒè¯•ç»“æœï¼ˆå­¦å·ï¼Œå­¦ç”Ÿå§“åï¼Œç§‘ç›®åç§°ï¼Œæˆç»©ï¼‰
-- æŒ‰æˆç»©é™åºæ’åº
SELECT s.studentno, studentname, subjectname, studentresult
FROM student s
INNER JOIN result r
ON r.studentno = s.studentno
INNER JOIN `subject` sub
ON r.subjectno = sub.subjectno
WHERE subjectname = 'æ•°æ®åº“ç»“æ„-1'
ORDER BY studentresult DESC
</code></pre>
<p><strong>åˆ†é¡µ</strong></p>
<pre><code class="language-sql">-- ===========åˆ†é¡µ=============
/* 
è¯­æ³•ï¼šlimit(èµ·å§‹ä¸‹æ ‡, æŸ¥è¯¢é•¿åº¦ï¼‰ -- ä¸ªäººè§‰å¾—è¿™æ ·å¥½ç†è§£
      limit[pageNo:é¡µç ,pageSize:å•é¡µé¢æ˜¾ç¤ºæ¡æ•°]  -- åŸç‰ˆæœ¬
å¥½å¤„ï¼šç”¨æˆ·ä½“éªŒï¼Œç½‘ç»œä¼ è¾“ï¼ŒæŸ¥è¯¢å‹åŠ›
*/
-- æ¯é¡µæ˜¾ç¤º5æ¡æ•°æ®
SELECT s.studentno, studentname, subjectname, studentresult
FROM student s
INNER JOIN result r
ON r.studentno = s.studentno
INNER JOIN `subject` sub
ON r.subjectno = sub.subjectno
WHERE subjectname = 'æ•°æ®åº“ç»“æ„-1'
ORDER BY studentresult DESC, studentno
LIMIT 0,5

-- æŸ¥è¯¢ JAVAç¬¬ä¸€å­¦å¹´ è¯¾ç¨‹æˆç»©å‰10åå¹¶ä¸”åˆ†æ•°å¤§äº80çš„å­¦ç”Ÿä¿¡æ¯(å­¦å·,å§“å,è¯¾ç¨‹å,åˆ†æ•°)
SELECT s.studentno, studentname, subjectname, studentresult
FROM student s
INNER JOIN result r
ON r.studentno = s.studentno
INNER JOIN `subject` sub
ON r.subjectno = sub.subjectno
WHERE subjectname = 'JAVAç¬¬ä¸€å­¦å¹´'
ORDER BY studentresult DESC
LIMIT 0,10
</code></pre>
<h3 id="å­æŸ¥è¯¢">å­æŸ¥è¯¢</h3>
<p>where å€¼æ˜¯å›ºå®šçš„ï¼ˆè®¡ç®—å‡ºæ¥çš„ï¼‰</p>
<p>æœ¬è´¨ï¼šåœ¨ where è¯­å¥ä¸­åµŒå¥—ä¸€ä¸ªå­æŸ¥è¯¢è¯­å¥</p>
<pre><code class="language-sql">/*============== å­æŸ¥è¯¢ ================
ä»€ä¹ˆæ˜¯å­æŸ¥è¯¢?
   åœ¨æŸ¥è¯¢è¯­å¥ä¸­çš„WHEREæ¡ä»¶å­å¥ä¸­,åˆåµŒå¥—äº†å¦ä¸€ä¸ªæŸ¥è¯¢è¯­å¥
   åµŒå¥—æŸ¥è¯¢å¯ç”±å¤šä¸ªå­æŸ¥è¯¢ç»„æˆ,æ±‚è§£çš„æ–¹å¼æ˜¯ç”±é‡ŒåŠå¤–;
   å­æŸ¥è¯¢è¿”å›çš„ç»“æœä¸€èˆ¬éƒ½æ˜¯é›†åˆ,æ•…è€Œå»ºè®®ä½¿ç”¨INå…³é”®å­—;
*/
-- æŸ¥è¯¢ æ•°æ®åº“ç»“æ„-1 çš„æ‰€æœ‰è€ƒè¯•ç»“æœ(å­¦å·,ç§‘ç›®ç¼–å·,æˆç»©),å¹¶ä¸”æˆç»©é™åºæ’åˆ—
-- æ–¹æ³•ä¸€:ä½¿ç”¨è¿æ¥æŸ¥è¯¢
SELECT studentno, r.subjectno, studentresult
FROM result r
INNER JOIN `subject` sub
ON r.`subjectno` = sub.`subjectno`
WHERE subjectname = 'æ•°æ®åº“ç»“æ„-1'
ORDER BY studentresult DESC

-- æ–¹æ³•äºŒ:ä½¿ç”¨å­æŸ¥è¯¢(æ‰§è¡Œé¡ºåº:ç”±é‡ŒåŠå¤–)
SELECT studentno, subjectno, studentresult
FROM result
WHERE subjectno = (
  SELECT subjectno FROM `subject`
  WHERE subjectname = 'æ•°æ®åº“ç»“æ„-1'
)
ORDER BY studentresult DESC

-- æŸ¥è¯¢è¯¾ç¨‹ä¸º é«˜ç­‰æ•°å­¦-2 ä¸”åˆ†æ•°ä¸å°äº80åˆ†çš„å­¦ç”Ÿçš„å­¦å·å’Œå§“å
-- æ–¹æ³•ä¸€:ä½¿ç”¨è¿æ¥æŸ¥è¯¢
SELECT s.studentno, studentname
FROM student s
INNER JOIN result r
ON s.studentno = r.studentno
INNER JOIN `subject` sub
ON sub.subjectno = r.subjectno
WHERE subjectname = 'é«˜ç­‰æ•°å­¦-2' AND studentresult &gt;= 80

-- æ–¹æ³•äºŒ:ä½¿ç”¨è¿æ¥æŸ¥è¯¢+å­æŸ¥è¯¢
-- åˆ†æ•°ä¸å°äº80åˆ†çš„å­¦ç”Ÿçš„å­¦å·å’Œå§“å
SELECT r.studentno, studentname
FROM student s
INNER JOIN result r
ON s.studentno = r.studentno
WHERE studentresult &gt;= 80

-- åœ¨ä¸Šé¢SQLåŸºç¡€ä¸Š,æ·»åŠ éœ€æ±‚:è¯¾ç¨‹ä¸º é«˜ç­‰æ•°å­¦-2
SELECT r.studentno, studentname
FROM student s
INNER JOIN result r
ON s.studentno = r.studentno
WHERE studentresult &gt;= 80 AND subjectno = (
  SELECT subjectno FROM `subject`
  WHERE subjectname = 'é«˜ç­‰æ•°å­¦-2'
)

-- æ–¹æ³•ä¸‰:ä½¿ç”¨å­æŸ¥è¯¢
-- åˆ†æ­¥å†™ç®€å•sqlè¯­å¥,ç„¶åå°†å…¶åµŒå¥—èµ·æ¥
SELECT studentno, studentname
FROM student
WHERE studentno IN (
  SELECT studentno FROM result
  WHERE studentresult &gt;= 80 AND subjectno = (
    SELECT subjectno FROM `subject`
    WHERE subjectname = 'é«˜ç­‰æ•°å­¦-2'  
  )
)


-- ç»ƒä¹ é¢˜ç›®:æŸ¥ Cè¯­è¨€-1 çš„å‰5åå­¦ç”Ÿçš„æˆç»©ä¿¡æ¯(å­¦å·,å§“å,åˆ†æ•°)
SELECT s.studentno, studentname, studentresult
FROM student s
INNER JOIN result r
ON s.studentno = r.studentno
INNER JOIN `subject` sub
ON r.subjectno = sub.subjectno
WHERE subjectname = 'Cè¯­è¨€-1'
ORDER BY studentresult DESC
LIMIT 0,5


-- ç»ƒä¹ é¢˜ç›®:ä½¿ç”¨å­æŸ¥è¯¢,æŸ¥è¯¢éƒ­é–åŒå­¦æ‰€åœ¨çš„å¹´çº§åç§°
SELECT gradename FROM grade
WHERE gradeid = (
  SELECT gradeid FROM student
  WHERE studentname = 'éƒ­é–'
)
</code></pre>
<h2 id="å…³ç³»æ¨¡å‹">å…³ç³»æ¨¡å‹</h2>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://favorably-7690.oss-cn-beijing.aliyuncs.com/SQL%20%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/202410081514048.png" alt="image-20221116163711167"></p>
<h3 id="ä¸»é”®">ä¸»é”®</h3>
<p>å¯¹äºå…³ç³»è¡¨ï¼Œæœ‰ä¸ªå¾ˆé‡è¦çš„çº¦æŸï¼Œå°±æ˜¯ä»»æ„ä¸¤æ¡è®°å½•ä¸èƒ½é‡å¤ã€‚ä¸èƒ½é‡å¤ä¸æ˜¯æŒ‡ä¸¤æ¡è®°å½•ä¸å®Œå…¨ç›¸åŒï¼Œè€Œæ˜¯æŒ‡***<u>èƒ½å¤Ÿé€šè¿‡æŸä¸ªå­—æ®µå”¯ä¸€åŒºåˆ†å‡ºä¸åŒçš„è®°å½•ï¼Œè¿™ä¸ªå­—æ®µè¢«ç§°ä¸ºä¸»é”®ã€‚</u>***</p>
<p>ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬æŠŠ<code>name</code>å­—æ®µä½œä¸ºä¸»é”®ï¼Œé‚£ä¹ˆé€šè¿‡åå­—<code>å°æ˜</code>æˆ–<code>å°çº¢</code>å°±èƒ½å”¯ä¸€ç¡®å®šä¸€æ¡è®°å½•ã€‚ä½†æ˜¯ï¼Œè¿™ä¹ˆè®¾å®šï¼Œå°±æ²¡æ³•å­˜å‚¨åŒåçš„åŒå­¦äº†ï¼Œå› ä¸ºæ’å…¥ç›¸åŒä¸»é”®çš„ä¸¤æ¡è®°å½•æ˜¯ä¸è¢«å…è®¸çš„ã€‚</p>
<p>å¯¹ä¸»é”®çš„è¦æ±‚ï¼Œæœ€å…³é”®çš„ä¸€ç‚¹æ˜¯ï¼šè®°å½•ä¸€æ—¦æ’å…¥åˆ°è¡¨ä¸­ï¼Œä¸»é”®æœ€å¥½ä¸è¦å†ä¿®æ”¹ï¼Œå› ä¸ºä¸»é”®æ˜¯ç”¨æ¥å”¯ä¸€å®šä½è®°å½•çš„ï¼Œä¿®æ”¹äº†ä¸»é”®ï¼Œä¼šé€ æˆä¸€ç³»åˆ—çš„å½±å“ã€‚</p>
<p><strong>è”åˆä¸»é”®ï¼š</strong></p>
<p>æ²¡æœ‰å¿…è¦çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°½é‡ä¸ä½¿ç”¨è”åˆä¸»é”®ï¼Œå› ä¸ºå®ƒç»™å…³ç³»è¡¨å¸¦æ¥äº†å¤æ‚åº¦çš„ä¸Šå‡ã€‚</p>
<blockquote>
<p>ä¸»é”®æ˜¯å…³ç³»è¡¨ä¸­è®°å½•çš„å”¯ä¸€æ ‡è¯†ã€‚ä¸»é”®çš„é€‰å–éå¸¸é‡è¦ï¼šä¸»é”®ä¸è¦å¸¦æœ‰ä¸šåŠ¡å«ä¹‰ï¼Œè€Œåº”è¯¥ä½¿ç”¨BIGINTè‡ªå¢æˆ–è€…GUIDç±»å‹ã€‚ä¸»é”®ä¹Ÿä¸åº”è¯¥å…è®¸<code>NULL</code>ã€‚</p>
</blockquote>
<h3 id="å¤–é”®">å¤–é”®</h3>
<p>students</p>
<table>
<thead>
<tr>
<th style="text-align:left">id</th>
<th style="text-align:left">name</th>
<th style="text-align:left">other columnsâ€¦</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">å°æ˜</td>
<td style="text-align:left">â€¦</td>
</tr>
<tr>
<td style="text-align:left">2</td>
<td style="text-align:left">å°çº¢</td>
<td style="text-align:left">â€¦</td>
</tr>
</tbody>
</table>
<p>classes</p>
<table>
<thead>
<tr>
<th style="text-align:left">id</th>
<th style="text-align:left">name</th>
<th style="text-align:left">other columnsâ€¦</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">ä¸€ç­</td>
<td style="text-align:left">â€¦</td>
</tr>
<tr>
<td style="text-align:left">2</td>
<td style="text-align:left">äºŒç­</td>
<td style="text-align:left">â€¦</td>
</tr>
</tbody>
</table>
<p>ä½†æ˜¯æˆ‘ä»¬å¦‚ä½•ç¡®å®š<code>students</code>è¡¨çš„ä¸€æ¡è®°å½•ï¼Œä¾‹å¦‚ï¼Œ<code>id=1</code>çš„å°æ˜ï¼Œå±äºå“ªä¸ªç­çº§å‘¢ï¼Ÿ</p>
<p><em><u>ä¸ºäº†è¡¨è¾¾è¿™ç§ä¸€å¯¹å¤šçš„å…³ç³»ï¼Œæˆ‘ä»¬éœ€è¦åœ¨<code>students</code>è¡¨ä¸­åŠ å…¥ä¸€åˆ—<code>class_id</code>ï¼Œè®©å®ƒçš„å€¼ä¸<code>classes</code>è¡¨çš„æŸæ¡è®°å½•ç›¸å¯¹åº”ï¼š</u></em></p>
<table>
<thead>
<tr>
<th style="text-align:left">id</th>
<th style="text-align:left">class_id</th>
<th style="text-align:left">name</th>
<th style="text-align:left">other columnsâ€¦</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">1</td>
<td style="text-align:left">å°æ˜</td>
<td style="text-align:left">â€¦</td>
</tr>
<tr>
<td style="text-align:left">2</td>
<td style="text-align:left">1</td>
<td style="text-align:left">å°çº¢</td>
<td style="text-align:left">â€¦</td>
</tr>
<tr>
<td style="text-align:left">5</td>
<td style="text-align:left">2</td>
<td style="text-align:left">å°ç™½</td>
<td style="text-align:left">â€¦</td>
</tr>
</tbody>
</table>
<p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ ¹æ®<code>class_id</code>è¿™ä¸ªåˆ—ç›´æ¥å®šä½å‡ºä¸€ä¸ª<code>students</code>è¡¨çš„è®°å½•åº”è¯¥å¯¹åº”åˆ°<code>classes</code>çš„å“ªæ¡è®°å½•ã€‚</p>
<p>åœ¨<code>students</code>è¡¨ä¸­ï¼Œé€šè¿‡<code>class_id</code>çš„å­—æ®µï¼Œå¯ä»¥æŠŠæ•°æ®ä¸å¦ä¸€å¼ è¡¨å…³è”èµ·æ¥ï¼Œè¿™ç§åˆ—ç§°ä¸º<code>å¤–é”®</code>ã€‚</p>
<blockquote>
<p>ç”±äºå¤–é”®çº¦æŸä¼šé™ä½æ•°æ®åº“çš„æ€§èƒ½ï¼Œå¤§éƒ¨åˆ†äº’è”ç½‘åº”ç”¨ç¨‹åºä¸ºäº†è¿½æ±‚é€Ÿåº¦ï¼Œå¹¶ä¸è®¾ç½®å¤–é”®çº¦æŸï¼Œè€Œæ˜¯ä»…é åº”ç”¨ç¨‹åºè‡ªèº«æ¥ä¿è¯é€»è¾‘çš„æ­£ç¡®æ€§ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œ<code>class_id</code>ä»…ä»…æ˜¯ä¸€ä¸ªæ™®é€šçš„åˆ—ï¼Œåªæ˜¯å®ƒèµ·åˆ°äº†å¤–é”®çš„ä½œç”¨è€Œå·²ã€‚</p>
</blockquote>
<h2 id="æŸ¥è¯¢æ•°æ®">æŸ¥è¯¢æ•°æ®</h2>
<pre><code class="language-sql">SELECT * FROM &lt;è¡¨å&gt;
SELECT * FROM &lt;è¡¨å&gt; WHERE &lt;æ¡ä»¶è¡¨è¾¾å¼&gt;

æ¡ä»¶è¡¨è¾¾å¼å¯ä»¥ç”¨&lt;æ¡ä»¶1&gt; AND &lt;æ¡ä»¶2&gt;è¡¨è¾¾æ»¡è¶³æ¡ä»¶1å¹¶ä¸”æ»¡è¶³æ¡ä»¶2

ç¬¬äºŒç§æ¡ä»¶æ˜¯&lt;æ¡ä»¶1&gt; OR &lt;æ¡ä»¶2&gt;ï¼Œè¡¨ç¤ºæ»¡è¶³æ¡ä»¶1æˆ–è€…æ»¡è¶³æ¡ä»¶2
</code></pre>
<h2 id="å…¶ä»–">å…¶ä»–</h2>
<pre><code class="language-sql">#åˆ›å»ºä¸€ä¸ªdemoæ•°æ®åº“
CREATE DATABASE sql_tutorial;

#æŸ¥çœ‹å…¨éƒ¨æ•°æ®åº“
SHOW DATABASES;

#é€‰æ‹©æ•°æ®åº“
USE `sql_tutorial`;

#å†™è¡¨æ ¼
CREATE TABLE `student`(
	`student_id` INT PRIMARY KEY,
    `name` VARCHAR(20),
    `MAJOR` VARCHAR(20)
)

# PAIMARY KEY å¯ä»¥ç”¨å¦ä¸€ç§æ–¹å¼å†™
CREATE TABLE `student`(
	`student_id` INT,
    `name` VARCHAR(20),
    `major` VARCHAR(20),
    PRIMARY KEY(`student_id`)
);

#æŸ¥çœ‹è¡¨æ ¼
DESCRIBE `student`;

#åˆ é™¤è¡¨æ ¼
DROP TABLE `student`;

#ç»™è¡¨æ ¼æ–°å¢å±æ€§
ALTER TABLE `student` ADD gpa DECIMAL(3,2);

#åˆ é™¤è¡¨æ ¼å±æ€§
ALTER TABLE `student` DROP COLUMN gpa;

#å­˜å…¥èµ„æ–™
INSERT INTO `student` VALUE(1, 'å°ç™½', 'å†å²' );
INSERT INTO `student` VALUE(3, 'å°é»‘', 'ç”Ÿç‰©' );
INSERT INTO `student` VALUE(3, 'å°ç»¿', NULL );

#æœå¯» student è¡¨æ ¼ä¸­çš„å…¨éƒ¨èµ„æ–™
SELECT * FROM `student`;

#æŒ‡å®šâ€¦â€¦ä¸å¡«çš„è¯å°±æ˜¯ NULL
INSERT INTO `student`(`name`,`major`,`student_id`) VALUE('å°å…°','è‹±è¯­','4');
</code></pre>
<pre><code class="language-sql">-- constraints é™åˆ¶ çº¦æŸ

CREATE TABLE `student`(
	`student_id` INT,
    `name` VARCHAR(20) NOT NULL,	#NOT NULL name å±æ€§ä¸èƒ½ä¸ºç©º
    `MAJOR` VARCHAR(20) UNIQUE,		#MAJOR å±æ€§å¿…é¡»å”¯ä¸€ï¼ŒUNIQUE
    PRIMARY KEY(`student_id`)
);

#ä¿®æ”¹äº†è¡¨æ ¼ï¼Œå…ˆåˆ é™¤è¡¨æ ¼ DROP TABLE `student`;
ç„¶å Ctrl + Enter

#å†™è¡¨æ ¼çš„æ—¶å€™ï¼Œè®¾ç½®é¢„è®¾å€¼
`major` VARCHAR(20) DEFAULT 'å†å²',		#é¢„è®¾å€¼

#è‡ªåŠ¨è¡¥å…… 1
CREATE TABLE `student`(
	`student_id` INT AUTO_INCREMENT,
    `name` VARCHAR(20) NOT NULL,	#NOT NULL name å±æ€§ä¸èƒ½ä¸ºç©º
    `major` VARCHAR(20) DEFAULT 'å†å²',		#é¢„è®¾å€¼
    PRIMARY KEY(`student_id`)
);

INSERT INTO `student`(`name`,`major`) VALUE('å°ç™½', 'è‹±è¯­' );
</code></pre>
<pre><code class="language-mysql">-- ä¿®æ”¹ã€åˆ é™¤èµ„æ–™
#å…ˆå…³æ‰é¢„è®¾çš„æ›´æ–°æ¨¡å¼
SET SQL_SAFE_UPDATES = 0;

#æŠŠ major ä¸ºè‹±è¯­çš„æ”¹ä¸ºâ€œè‹±è¯­æ–‡å­¦â€
UPDATE `student`
SET `major` ='è‹±è¯­æ–‡å­¦'
WHERE `major` ='è‹±è¯­' ;

#åˆ æ‰ student_id ä¸º 4 çš„é‚£ä¸ª
DELETE FROM `student`
WHERE `student_id` =4;

#åˆ æ‰åˆ†æ•°å°äº 60 çš„
DELETE FROM `student`
WHERE `score` &lt; 60;
</code></pre>
<pre><code class="language-mysql">-- å–å¾—èµ„æ–™
#æœå¯» student è¡¨æ ¼ä¸­çš„å…¨éƒ¨èµ„æ–™
SELECT * FROM `student`;

#æ’åºï¼ŒDESC ç”±é«˜åˆ°ä½
SELECT * FROM `student` 
ORDER BY `score` DESC;

# å…ˆæ ¹æ® score æ’åºï¼Œscore ç›¸åŒåˆ™æ ¹æ® student_id æ’åº
SELECT * FROM `student` 
ORDER BY `score`,`student_id` DESC;

#åªè¦å‰ä¸¤ç¬”èµ„æ–™
SELECT * FROM `student` 
LIMIT 2;

#æ‰¾åˆ°åˆ†æ•°å‰ä¸‰ä½çš„
SELECT * FROM `student` 
ORDER BY `score`;
LIMIT 3;

#æ‰¾åˆ°åˆ†æ•°å‰ä¸‰é«˜çš„
SELECT * FROM `student` 
ORDER BY `score` DESC;
LIMIT 3;
</code></pre>
<blockquote>
<p>å‚è€ƒï¼š</p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1PT4y1e7UU/?spm_id_from=333.337.search-card.all.click&amp;vd_source=07d8fe8fdf49a7cf86a5c7925adf3667">ã€æ•°æ®åº“ã€‘SQL 3å°æ—¶å¿«é€Ÿå…¥é—¨_bilibiliï¼ˆå·²çœ‹ï¼‰</a></p>
<p><a target="_blank" rel="noopener" href="https://www.liaoxuefeng.com/wiki/1177760294764384">SQLæ•™ç¨‹ - å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™ (liaoxuefeng.com)</a></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1NJ411J79W/">ã€ç‹‚ç¥è¯´Javaã€‘MySQLæœ€æ–°æ•™ç¨‹é€šä¿—æ˜“æ‡‚ï¼ˆå·²çœ‹ï¼‰</a></p>
<p><a target="_blank" rel="noopener" href="https://sqlbolt.com/lesson/select_queries_with_constraints">SQLBolt - Learn SQL - SQL Lesson 2: Queries with constraints (Pt. 1)</a></p>
</blockquote>

<div class="article-footer fs14">
    <section id="license">
      <div class="header"><span>è®¸å¯åè®®</span></div>
      <div class="body"><p>æœ¬æ–‡é‡‡ç”¨ <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…</a> è®¸å¯åè®®ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>
</div>
    </section>
    
    <section id="share">
      <div class="header"><span>åˆ†äº«æ–‡ç« </span></div>
      <div class="body">
        <div class="link"><input class="copy-area" readonly="true" id="copy-link" value="https://zero-yi7.github.io/2021/02/11/%E6%95%B0%E6%8D%AE%E5%BA%93/" /></div>
        <div class="social-wrap dis-select"><a class="social share-item wechat" onclick="util.toggle(&quot;qrcode-wechat&quot;)"><img class="lazy"  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/social/b32ef3da1162a.svg" /></a><a class="social share-item email" href="mailto:?subject=SQL æ•°æ®åº“å­¦ä¹ è®°å½• - Rabbit's Blog&amp;body=https://zero-yi7.github.io/2021/02/11/%E6%95%B0%E6%8D%AE%E5%BA%93/"><img class="lazy"  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/social/a1b00e20f425d.svg" /></a><a class="social share-item link" onclick="util.copy(&quot;copy-link&quot;, &quot;å¤åˆ¶æˆåŠŸ&quot;)"><img class="lazy"  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/social/8411ed322ced6.svg" /></a></div>
        
        <div class="qrcode" id="qrcode-wechat" style="opacity:0;height:0">
          <img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://api.qrserver.com/v1/create-qr-code/?size=256x256&data=https://zero-yi7.github.io/2021/02/11/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
        </div>
        
      </div>
    </section>
    </div>
</article>
<div class="related-wrap" id="read-next"><section class="body"><div class="item" id="prev"><div class="note">è¾ƒæ–°æ–‡ç« </div><a href="/2021/06/09/%E6%8C%82%E8%BD%BD%E6%89%A9%E5%AE%B9linux%E6%9C%8D%E5%8A%A1%E5%99%A8/">æŒ‚è½½æ‰©å®¹ Linux æœåŠ¡å™¨</a></div><div class="item" id="next"><div class="note">è¾ƒæ—©æ–‡ç« </div><a href="/2021/02/09/%E9%93%B6%E6%B2%B3%E9%BA%92%E9%BA%9F%E8%A3%85%E8%BD%AF%E4%BB%B6/">é“¶æ²³éº’éºŸè£…è½¯ä»¶æµç¨‹ | ä¿¡åˆ›</a></div></section></div>






<footer class="page-footer footnote"><hr><div class="text"><p>æœ¬ç«™ç”± <a href="/">Rabbit</a> ä½¿ç”¨ <a target="_blank" rel="noopener" href="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.29.1">Stellar 1.29.1</a> ä¸»é¢˜åˆ›å»ºã€‚<br>
æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>
</div></footer>
<div class="main-mask" onclick="sidebar.dismiss()"></div></div><aside class="l_right">
<div class="widgets">



<widget class="widget-wrapper toc" id="data-toc" collapse="false"><div class="widget-header dis-select"><span class="name">æœ¬æ–‡ç›®å½•</span><a class="cap-action" onclick="sidebar.toggleTOC()" ><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6h11m-11 6h11m-11 6h11M4 6h1v4m-1 0h2m0 8H4c0-1 2-2 2-3s-1-1.5-2-1"/></svg></a></div><div class="widget-body"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9F%A5%E7%BC%BA%E8%A1%A5%E6%BC%8F"><span class="toc-text">æ•°æ®åº“æŸ¥ç¼ºè¡¥æ¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E8%AF%86%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">åˆè¯†æ•°æ®åº“</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AD%A6%E4%B9%A0%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9A"><span class="toc-text">ä¸ºä»€ä¹ˆå­¦ä¹ æ•°æ®åº“ï¼š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9A"><span class="toc-text">ä»€ä¹ˆæ˜¯æ•°æ®åº“ï¼š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%86%E7%B1%BB%EF%BC%9A"><span class="toc-text">æ•°æ®åº“åˆ†ç±»ï¼š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL-%E7%AE%80%E4%BB%8B"><span class="toc-text">MySQL ç®€ä»‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-MySQL"><span class="toc-text">å®‰è£… MySQL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">è¿æ¥æ•°æ®åº“</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">æ“ä½œæ•°æ®åº“</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">ç®€å•æ“ä½œæ•°æ®åº“</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%88%97%E7%B1%BB%E5%9E%8B"><span class="toc-text">æ•°æ®åº“çš„åˆ—ç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E6%AE%B5%E5%B1%9E%E6%80%A7"><span class="toc-text">å­—æ®µå±æ€§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8"><span class="toc-text">åˆ›å»ºæ•°æ®åº“è¡¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E8%A1%A8%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="toc-text">æ•°æ®è¡¨çš„ç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E5%88%A0%E9%99%A4%E8%A1%A8"><span class="toc-text">ä¿®æ”¹åˆ é™¤è¡¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MySQL-%E7%9A%84%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86"><span class="toc-text">MySQL çš„æ•°æ®ç®¡ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%96%E9%94%AE%EF%BC%88%E4%BA%86%E8%A7%A3%E5%8D%B3%E5%8F%AF%EF%BC%89"><span class="toc-text">å¤–é”®ï¼ˆäº†è§£å³å¯ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DML-%E8%AF%AD%E8%A8%80%EF%BC%88%E5%85%A8%E9%83%A8%E8%AE%B0%E4%BD%8F%EF%BC%89"><span class="toc-text">DML è¯­è¨€ï¼ˆå…¨éƒ¨è®°ä½ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0-insert"><span class="toc-text">æ·»åŠ  insert</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9-update"><span class="toc-text">ä¿®æ”¹ update</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4-delete"><span class="toc-text">åˆ é™¤ delete</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DQL-%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE%EF%BC%88%E6%9C%80%E9%87%8D%E7%82%B9%EF%BC%89"><span class="toc-text">DQL æŸ¥è¯¢æ•°æ®ï¼ˆæœ€é‡ç‚¹ï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#DQL"><span class="toc-text">DQL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E5%AE%9A%E6%9F%A5%E8%AF%A2%E5%AD%97%E6%AE%B5"><span class="toc-text">æŒ‡å®šæŸ¥è¯¢å­—æ®µ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#where-%E6%9D%A1%E4%BB%B6%E5%AD%97%E5%8F%A5"><span class="toc-text">where æ¡ä»¶å­—å¥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%81%94%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="toc-text">è”è¡¨æŸ¥è¯¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F%E5%92%8C%E5%88%86%E9%A1%B5"><span class="toc-text">æ’åºå’Œåˆ†é¡µ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-text">å­æŸ¥è¯¢</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B"><span class="toc-text">å…³ç³»æ¨¡å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E9%94%AE"><span class="toc-text">ä¸»é”®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%96%E9%94%AE"><span class="toc-text">å¤–é”®</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE"><span class="toc-text">æŸ¥è¯¢æ•°æ®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96"><span class="toc-text">å…¶ä»–</span></a></li></ol></div><div class="widget-footer">

<a class="top" onclick="util.scrollTop()"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="1.5"><path d="M2 12c0-4.714 0-7.071 1.464-8.536C4.93 2 7.286 2 12 2c4.714 0 7.071 0 8.535 1.464C22 4.93 22 7.286 22 12c0 4.714 0 7.071-1.465 8.535C19.072 22 16.714 22 12 22s-7.071 0-8.536-1.465C2 19.072 2 16.714 2 12Z"/><path stroke-linecap="round" stroke-linejoin="round" d="m9 15.5l3-3l3 3m-6-4l3-3l3 3"/></g></svg><span>å›åˆ°é¡¶éƒ¨</span></a></div></widget>
</div></aside><div class='float-panel blur'>
  <button type='button' style='display:none' class='laptop-only rightbar-toggle mobile' onclick='sidebar.rightbar()'>
    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6h11m-11 6h11m-11 6h11M4 6h1v4m-1 0h2m0 8H4c0-1 2-2 2-3s-1-1.5-2-1"/></svg>
  </button>
  <button type='button' style='display:none' class='mobile-only leftbar-toggle mobile' onclick='sidebar.leftbar()'>
    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="1.5"><path d="M2 11c0-3.771 0-5.657 1.172-6.828C4.343 3 6.229 3 10 3h4c3.771 0 5.657 0 6.828 1.172C22 5.343 22 7.229 22 11v2c0 3.771 0 5.657-1.172 6.828C19.657 21 17.771 21 14 21h-4c-3.771 0-5.657 0-6.828-1.172C2 18.657 2 16.771 2 13z"/><path id="sep" stroke-linecap="round" d="M5.5 10h6m-5 4h4m4.5 7V3"/></g></svg>
  </button>
</div>
</div><div class="scripts">
  <script type="text/javascript">
  const ctx = {
    date_suffix: {
      just: `åˆšåˆš`,
      min: `åˆ†é’Ÿå‰`,
      hour: `å°æ—¶å‰`,
      day: `å¤©å‰`,
    },
    root : `/`,
  };

  // required plugins (only load if needs)
  if (`local_search`) {
    ctx.search = {};
    ctx.search.service = `local_search`;
    if (ctx.search.service == 'local_search') {
      let service_obj = Object.assign({}, `{"field":"all","path":"/search.json","content":true,"sort":"-date"}`);
      ctx.search[ctx.search.service] = service_obj;
    }
  }
  const def = {
    avatar: `https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/avatar/round/3442075.svg`,
    cover: `https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/cover/76b86c0226ffd.svg`,
  };
  const deps = {
    jquery: `https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js`,
    marked: `https://cdn.jsdelivr.net/npm/marked@13.0.1/lib/marked.umd.min.js`
  }
  

</script>

    <script type="text/javascript">
  const utils = {
    // æ‡’åŠ è½½ css https://github.com/filamentgroup/loadCSS
    css: (href, before, media, attributes) => {
      var doc = window.document;
      var ss = doc.createElement("link");
      var ref;
      if (before) {
        ref = before;
      } else {
        var refs = (doc.body || doc.getElementsByTagName("head")[0]).childNodes;
        ref = refs[refs.length - 1];
      }
      var sheets = doc.styleSheets;
      if (attributes) {
        for (var attributeName in attributes) {
          if (attributes.hasOwnProperty(attributeName)) {
            ss.setAttribute(attributeName, attributes[attributeName]);
          }
        }
      }
      ss.rel = "stylesheet";
      ss.href = href;
      ss.media = "only x";
      function ready(cb) {
        if (doc.body) {
          return cb();
        }
        setTimeout(function () {
          ready(cb);
        });
      }
      ready(function () {
        ref.parentNode.insertBefore(ss, before ? ref : ref.nextSibling);
      });
      var onloadcssdefined = function (cb) {
        var resolvedHref = ss.href;
        var i = sheets.length;
        while (i--) {
          if (sheets[i].href === resolvedHref) {
            return cb();
          }
        }
        setTimeout(function () {
          onloadcssdefined(cb);
        });
      };
      function loadCB() {
        if (ss.addEventListener) {
          ss.removeEventListener("load", loadCB);
        }
        ss.media = media || "all";
      }
      if (ss.addEventListener) {
        ss.addEventListener("load", loadCB);
      }
      ss.onloadcssdefined = onloadcssdefined;
      onloadcssdefined(loadCB);
      return ss;
    },

    js: (src, opt) => new Promise((resolve, reject) => {
      var script = document.createElement('script');
      if (src.startsWith('/')){
        src = ctx.root + src.substring(1);
      }
      script.src = src;
      if (opt) {
        for (let key of Object.keys(opt)) {
          script[key] = opt[key]
        }
      } else {
        // é»˜è®¤å¼‚æ­¥ï¼Œå¦‚æœéœ€è¦åŒæ­¥ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥ {} å³å¯
        script.async = true
      }
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    }),

    jq: (fn) => {
      if (typeof jQuery === 'undefined') {
        utils.js(deps.jquery).then(fn)
      } else {
        fn()
      }
    },
    
    onLoading: (el) => {
      if (el) {
        $(el).append('<div class="loading-wrap"><svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"/></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"/><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"/></path></g></svg></div>');
      }
    },
    onLoadSuccess: (el) => {
      if (el) {
        $(el).find('.loading-wrap').remove();
      }
    },
    onLoadFailure: (el) => {
      if (el) {
        $(el).find('.loading-wrap svg').remove();
        $(el).find('.loading-wrap').append('<svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" d="M12 3L21 20H3L12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.5s" values="60;0"/></path><path stroke-dasharray="6" stroke-dashoffset="6" d="M12 10V14"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.2s" values="6;0"/></path></g><circle cx="12" cy="17" r="1" fill="currentColor" fill-opacity="0"><animate fill="freeze" attributeName="fill-opacity" begin="0.8s" dur="0.4s" values="0;1"/></circle></svg>');
        $(el).find('.loading-wrap').addClass('error');
      }
    },
    request: (el, url, callback, onFailure) => {
      let retryTimes = 3;
      utils.onLoading(el);
      function req() {
        return new Promise((resolve, reject) => {
          let status = 0; // 0 ç­‰å¾… 1 å®Œæˆ 2 è¶…æ—¶
          let timer = setTimeout(() => {
            if (status === 0) {
              status = 2;
              timer = null;
              reject('è¯·æ±‚è¶…æ—¶');
              if (retryTimes == 0) {
                onFailure();
              }
            }
          }, 5000);
          fetch(url).then(function(response) {
            if (status !== 2) {
              clearTimeout(timer);
              resolve(response);
              timer = null;
              status = 1;
            }
            if (response.ok) {
              return response.json();
            }
            throw new Error('Network response was not ok.');
          }).then(function(data) {
            retryTimes = 0;
            utils.onLoadSuccess(el);
            callback(data);
          }).catch(function(error) {
            if (retryTimes > 0) {
              retryTimes -= 1;
              setTimeout(() => {
                req();
              }, 5000);
            } else {
              utils.onLoadFailure(el);
              onFailure();
            }
          });
        });
      }
      req();
    },
  };
</script>

      <script>
  const sidebar = {
    leftbar: () => {
      if (l_body) {
        l_body.toggleAttribute('leftbar');
        l_body.removeAttribute('rightbar');
      }
    },
    rightbar: () => {
      if (l_body) {
        l_body.toggleAttribute('rightbar');
        l_body.removeAttribute('leftbar');
      }
    },
    dismiss: () => {
      if (l_body) {
        l_body.removeAttribute('leftbar');
        l_body.removeAttribute('rightbar');
      }
    },
    toggleTOC: () => {
      document.querySelector('#data-toc').classList.toggle('collapse');
    }
  }
</script>
        <script type="text/javascript">
  (() => {
    const tagSwitchers = document.querySelectorAll('.tag-subtree.parent-tag > a > .tag-switcher-wrapper')
    for (const tagSwitcher of tagSwitchers) {
      tagSwitcher.addEventListener('click', (e) => {
        const parent = e.target.closest('.tag-subtree.parent-tag')
        parent.classList.toggle('expanded')
        e.preventDefault()
      })
    }

    // Get active tag from query string, then activate it.
    const urlParams = new URLSearchParams(window.location.search)
    const activeTag = urlParams.get('tag')
    if (activeTag) {
      let tag = document.querySelector(`.tag-subtree[data-tag="${activeTag}"]`)
      if (tag) {
        tag.querySelector('a').classList.add('active')
        
        while (tag) {
          tag.classList.add('expanded')
          tag = tag.parentElement.closest('.tag-subtree.parent-tag')
        }
      }
    }
  })()
</script>


          <!-- required -->
          <script src="/js/main.js?v=1.29.1" defer></script>

          <script type="text/javascript">
  const applyTheme = (theme) => {
    if (theme === 'auto') {
      document.documentElement.removeAttribute('data-theme')
    } else {
      document.documentElement.setAttribute('data-theme', theme)
    }

    applyThemeToGiscus(theme)
  }

  const applyThemeToGiscus = (theme) => {
    theme = theme === 'auto' ? 'preferred_color_scheme' : theme

    const cmt = document.getElementById('giscus')
    if (cmt) {
      // This works before giscus load.
      cmt.setAttribute('data-theme', theme)
    }

    const iframe = document.querySelector('#comments > section.giscus > iframe')
    if (iframe) {
      // This works after giscus loaded.
      const src = iframe.src
      const newSrc = src.replace(/theme=[\w]+/, `theme=${theme}`)
      iframe.src = newSrc
    }
  }

  const switchTheme = () => {
    // light -> dark -> auto -> light -> ...
    const currentTheme = document.documentElement.getAttribute('data-theme')
    let newTheme;
    switch (currentTheme) {
      case 'light':
        newTheme = 'dark'
        break
      case 'dark':
        newTheme = 'auto'
        break
      default:
        newTheme = 'light'
    }
    applyTheme(newTheme)
    window.localStorage.setItem('Stellar.theme', newTheme)

    const messages = {
      light: `åˆ‡æ¢åˆ°æµ…è‰²æ¨¡å¼`,
      dark: `åˆ‡æ¢åˆ°æ·±è‰²æ¨¡å¼`,
      auto: `åˆ‡æ¢åˆ°è·Ÿéšç³»ç»Ÿé…è‰²`,
    }
    hud?.toast?.(messages[newTheme])
  }

  (() => {
    // Apply user's preferred theme, if any.
    const theme = window.localStorage.getItem('Stellar.theme')
    if (theme !== null) {
      applyTheme(theme)
    }
  })()
</script>


            <!-- optional -->
            


              <script defer>
  window.addEventListener('DOMContentLoaded', (event) => {
    ctx.services = Object.assign({}, JSON.parse(`{"mdrender":{"js":"/js/services/mdrender.js"},"siteinfo":{"js":"/js/services/siteinfo.js","api":null},"ghinfo":{"js":"/js/services/ghinfo.js"},"sites":{"js":"/js/services/sites.js"},"friends":{"js":"/js/services/friends.js"},"timeline":{"js":"/js/services/timeline.js"},"fcircle":{"js":"/js/services/fcircle.js"},"weibo":{"js":"/js/services/weibo.js"},"memos":{"js":"/js/services/memos.js"}}`));
    for (let id of Object.keys(ctx.services)) {
      const js = ctx.services[id].js;
      if (id == 'siteinfo') {
        ctx.cardlinks = document.querySelectorAll('a.link-card[cardlink]');
        if (ctx.cardlinks?.length > 0) {
          utils.js(js, { defer: true }).then(function () {
            setCardLink(ctx.cardlinks);
          });
        }
      } else {
        const els = document.getElementsByClassName(`ds-${id}`);
        if (els?.length > 0) {
          utils.jq(() => {
            if (id == 'timeline' || 'memos' || 'marked') {
              utils.js(deps.marked).then(function () {
                utils.js(js, { defer: true });
              });
            } else {
              utils.js(js, { defer: true });
            }
          });
        }
      }
    }
  });
</script>
                
<script>
  window.addEventListener('DOMContentLoaded', (event) => {
    ctx.search = {
      path: `/search.json`,
    }
    utils.js('/js/search/local-search.js', { defer: true });
  });
</script><script>
  window.FPConfig = {
    delay: 0,
    ignoreKeywords: [],
    maxRPS: 5,
    hoverDelay: 25
  };
</script>
<script defer src="https://cdn.jsdelivr.net/npm/flying-pages@2/flying-pages.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@19.1.3/dist/lazyload.min.js"></script>
<script>
  // https://www.npmjs.com/package/vanilla-lazyload
  // Set the options globally
  // to make LazyLoad self-initialize
  window.lazyLoadOptions = {
    elements_selector: ".lazy",
  };
  // Listen to the initialization event
  // and get the instance of LazyLoad
  window.addEventListener(
    "LazyLoad::Initialized",
    function (event) {
      window.lazyLoadInstance = event.detail.instance;
    },
    false
  );
  document.addEventListener('DOMContentLoaded', function () {
    window.lazyLoadInstance?.update();
  });
</script><script>
  ctx.fancybox = {
    selector: `.timenode p>img`,
    css: `https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.css`,
    js: `https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.umd.js`
  };
  var selector = '[data-fancybox]:not(.error)';
  if (ctx.fancybox.selector) {
    selector += `, ${ctx.fancybox.selector}`
  }
  var needFancybox = document.querySelectorAll(selector).length !== 0;
  if (!needFancybox) {
    const els = document.getElementsByClassName('ds-memos');
    if (els != undefined && els.length > 0) {
      needFancybox = true;
    }
  }
  if (needFancybox) {
    utils.css(ctx.fancybox.css);
    utils.js(ctx.fancybox.js, { defer: true }).then(function () {
      Fancybox.bind(selector, {
        hideScrollbar: false,
        Thumbs: {
          autoStart: false,
        },
        caption: (fancybox, slide) => {
          return slide.triggerEl.alt || slide.triggerEl.dataset.caption || null
        }
      });
    })
  }
</script>
<script>
  window.addEventListener('DOMContentLoaded', (event) => {
    const swiper_api = document.getElementById('swiper-api');
    if (swiper_api != undefined) {
      utils.css(`https://unpkg.com/swiper@10.3.1/swiper-bundle.min.css`);
      utils.js(`https://unpkg.com/swiper@10.3.1/swiper-bundle.min.js`, { defer: true }).then(function () {
        const effect = swiper_api.getAttribute('effect') || '';
        var swiper = new Swiper('.swiper#swiper-api', {
          slidesPerView: 'auto',
          spaceBetween: 8,
          centeredSlides: true,
          effect: effect,
          rewind: true,
          pagination: {
            el: '.swiper-pagination',
            clickable: true,
          },
          navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
          },
        });
      })
    }
  });
</script>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    window.codeElements = document.querySelectorAll('.code');
    if (window.codeElements.length > 0) {
      ctx.copycode = {
        default_text: `Copy`,
        success_text: `Copied`,
        toast: `å¤åˆ¶æˆåŠŸ`,
      };
      utils.js('/js/plugins/copycode.js');
    }
  });
</script>


                  <!-- inject -->
                  

                    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/highlight.min.js"></script>
                    <script>
                      hljs.highlightAll();  // è¿™æ®µä»£ç ä¼šè‡ªåŠ¨æ‰¾åˆ°é¡µé¢ä¸­æ‰€æœ‰çš„ä»£ç å—å¹¶è¿›è¡Œé«˜äº®
                    </script></div></body></html>
